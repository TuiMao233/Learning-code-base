## 路由组件定义与使用

## Vue-Router页面路由组件

### 简介

Vue Router 是 [Vue.js](http://cn.vuejs.org/) 官方的路由管理器。它和 Vue.js 的核心深度集成，让构建单页面应用变得易如反掌。（大概）

#### 一、定义（路由）组件，路由组件装载着需要的内容

通常这类组件放在 *src/views* 文件夹内`(a.vue b.vue)`

#### 二、定义路由，模块化路由器，并配置路由组件

~~~javascript
// src/rouder/index.js：
import Vue from 'vue' 
import VueRouter from 'vue-router'  
import About from '../views/a.vue'
import Home from '../views/b.vue'
Vue.use(VueRouter) 
export default new VueRouter({   /* 这里定义路由 */
	linkActiveClass: 'active', // 定义默认路由类名
	routes: [{ path: '/about', component: About }, // 配置路由组件
    		 { path: '/home', component: Home },
              { path: '/', redirect: '/about' } ]
})
~~~

#### 三、Vue-cli入口函数引入路由

~~~javascript
import Vue from 'vue'
import App from './App.vue'
import router from './router'
const app = new Vue({
	components: { App },
	template: '<App/>',
	router
}).$mount('#app')
~~~

#### 四、在页面组件使用路由组件（App.vue或其他组件）

~~~html
<div id="app">
	<router-link to="/about">Go to about</router-link>
	<router-link to="/home">Go to home</router-link>
	<router-view> </router-view>
</div>
~~~

![1574341010](C:\Users\Administrator\Desktop\vue笔记\三、vue脚手架\img\1574341010.png)

#### 伍、组件实例访问路由器或访问当前显示路由

~~~javascript
mounted () {
	console.log(this.$route) // 当前显示路由
	console.log(this.$router) // 路由器
}
~~~

#### 六、路由组件缓存（可让显示路由保存值和自身，在刷新页面时或重新启动浏览器(?)不会消失）

~~~html
<keep-alive> <!-- 利用keep-alive标签包裹显示路由 -->
	<router-view class="w"></router-view>
</keep-alive>
~~~

#### 七、路由链接传值

1. **定义一个可通过链接传值路由（src/rouder/index.js）**

   - ~~~javascript
     // 引入
     import Home from './Home.vue'
     // 路由配置
     roates: [{ path: '/home/:id', commponent: Home }]
     ~~~

2. **任意组件方法利用 `router.push`改变路径（app.vue）**

   - ~~~javascript
     pushShow (id) { this.$router.push('/home/${id}') }
     ~~~
   
3. **监视当前显示路由尾数`'id'`的变化而改变路由组件（home路由）**

   - ~~~javascript
     watch: { $route: function (route) {
     	if (route.params.id) {
     		const id = route.params.id
     		// 从数据库中寻找有相同标识的数据并返回
     		this.logoData = this.userData.find(user => id === user.id)
     	}
     } }
     ~~~

