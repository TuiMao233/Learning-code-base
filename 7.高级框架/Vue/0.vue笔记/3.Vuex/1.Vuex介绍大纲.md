## Vuex 是什么？

Vuex 是一个专为 Vue.js 应用程序开发的**状态管理模式**。它采用集中式存储管理应用的所有组件的状态，并以相应的规则保证状态以一种可预测的方式发生变化。

#### 状态管理模式

~~~javascript
new Vue({
  // state
  data () {return{
	count: 0
  }},
  // view
  template: `<div>{{ count }}</div>`,
  // actions
  methods: {
	increment () {
		this.count++
	}
  }
})
~~~

#### “单向数据流”理念的简单示意：

~~~sequence
Viem-->Actions:调用方法
Actions-->State:寻找数据
State-->Viem:页面显示数据
~~~

- **state**，驱动应用的数据源；
- **view**，以声明方式将 **state** 映射到视图；
- **actions**，响应在 **view** 上的用户输入导致的状态变化。

<div STYLE="page-break-after: always;">

#### 多组件共享状态的问题

- **多个视图依赖于同一状态**
- **来自不同视图的行为需要变更同一状态**
- **以前的解决办法**
  1. 将数据以及操作数据的行为都定义在父组件
  2. 将数据以及操作数据的行为传递给需要的各个子组件(有可能需要多级传递)

~~~sequence
participant 子组件D
父组件A->子组件B:传输数据
父组件A->子组件D:传输数据
~~~

- **Vuex的解决方法**
1. 将数据以及操作数据的行为分别管理
  
2. 任意组件都可以随意调用并修改

```sequence
participant 子组件B
participant Vue状态管理 as vx
vx->父组件A:传输数据
vx->子组件B:传输数据
```

<div STYLE="page-break-after: always;">

#### Vuex总流程图

![Vuex流程图](.\img\Vuex流程图.png)

#### 什么情况下我应该使用 Vuex？

Vuex 可以帮助我们管理共享状态，并附带了更多的概念和框架。这需要对短期和长期效益进行权衡。

如果不打算开发大型单页应用，不必使用Vuex管理。如果应用够简单，最好不要使用 Vuex。一个简单的 [store 模式](https://cn.vuejs.org/v2/guide/state-management.html#简单状态管理起步使用)就足够了。但是，如果需要构建一个中大型单页应用，就要更好地在组件外部管理状态，这是Vuex就很有必要性了。
