<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Ajax 异步数据传输 | Mr.Mao&#39;s blog</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="shortcut icon" type="image/x-icon" href="/mao-blog/favicon.ico">
    <meta name="description" content="For man is man and master of his fate.">
    
    <link rel="preload" href="/mao-blog/assets/css/0.styles.c7f09f7b.css" as="style"><link rel="preload" href="/mao-blog/assets/js/app.19e1b50c.js" as="script"><link rel="preload" href="/mao-blog/assets/js/4.512e8a4d.js" as="script"><link rel="preload" href="/mao-blog/assets/js/1.6b005ada.js" as="script"><link rel="preload" href="/mao-blog/assets/js/16.177fc3f8.js" as="script"><link rel="prefetch" href="/mao-blog/assets/js/10.8008c15a.js"><link rel="prefetch" href="/mao-blog/assets/js/11.e6d5e627.js"><link rel="prefetch" href="/mao-blog/assets/js/12.5df4cc14.js"><link rel="prefetch" href="/mao-blog/assets/js/13.64a3b0dc.js"><link rel="prefetch" href="/mao-blog/assets/js/14.92c69349.js"><link rel="prefetch" href="/mao-blog/assets/js/15.fcb00b5c.js"><link rel="prefetch" href="/mao-blog/assets/js/17.35b5192e.js"><link rel="prefetch" href="/mao-blog/assets/js/18.4059f020.js"><link rel="prefetch" href="/mao-blog/assets/js/19.d0f23759.js"><link rel="prefetch" href="/mao-blog/assets/js/20.2d4db1fa.js"><link rel="prefetch" href="/mao-blog/assets/js/21.514837fa.js"><link rel="prefetch" href="/mao-blog/assets/js/22.27a37e8b.js"><link rel="prefetch" href="/mao-blog/assets/js/23.897a67bc.js"><link rel="prefetch" href="/mao-blog/assets/js/24.c649adb1.js"><link rel="prefetch" href="/mao-blog/assets/js/25.bccb3f04.js"><link rel="prefetch" href="/mao-blog/assets/js/26.705ac85b.js"><link rel="prefetch" href="/mao-blog/assets/js/27.e4123e2d.js"><link rel="prefetch" href="/mao-blog/assets/js/28.46bcae57.js"><link rel="prefetch" href="/mao-blog/assets/js/29.c4272f05.js"><link rel="prefetch" href="/mao-blog/assets/js/3.2246673a.js"><link rel="prefetch" href="/mao-blog/assets/js/30.28bc60fe.js"><link rel="prefetch" href="/mao-blog/assets/js/31.c3758186.js"><link rel="prefetch" href="/mao-blog/assets/js/32.db3244fa.js"><link rel="prefetch" href="/mao-blog/assets/js/33.06b2e404.js"><link rel="prefetch" href="/mao-blog/assets/js/34.87d9e7a4.js"><link rel="prefetch" href="/mao-blog/assets/js/35.c126287d.js"><link rel="prefetch" href="/mao-blog/assets/js/36.8f3be9db.js"><link rel="prefetch" href="/mao-blog/assets/js/37.b916e469.js"><link rel="prefetch" href="/mao-blog/assets/js/38.d90b2cf2.js"><link rel="prefetch" href="/mao-blog/assets/js/39.6e0ceebe.js"><link rel="prefetch" href="/mao-blog/assets/js/40.1b64d216.js"><link rel="prefetch" href="/mao-blog/assets/js/41.ebf384c2.js"><link rel="prefetch" href="/mao-blog/assets/js/42.9881274f.js"><link rel="prefetch" href="/mao-blog/assets/js/43.53f0eb78.js"><link rel="prefetch" href="/mao-blog/assets/js/44.56761054.js"><link rel="prefetch" href="/mao-blog/assets/js/45.b0ff1d14.js"><link rel="prefetch" href="/mao-blog/assets/js/46.aaaf7c00.js"><link rel="prefetch" href="/mao-blog/assets/js/47.18cca51b.js"><link rel="prefetch" href="/mao-blog/assets/js/48.39030ea6.js"><link rel="prefetch" href="/mao-blog/assets/js/49.9ab0ecf9.js"><link rel="prefetch" href="/mao-blog/assets/js/5.8cda11d4.js"><link rel="prefetch" href="/mao-blog/assets/js/50.0bffed31.js"><link rel="prefetch" href="/mao-blog/assets/js/51.ff3d6c79.js"><link rel="prefetch" href="/mao-blog/assets/js/52.87903e4e.js"><link rel="prefetch" href="/mao-blog/assets/js/53.5759e67a.js"><link rel="prefetch" href="/mao-blog/assets/js/54.be8026fc.js"><link rel="prefetch" href="/mao-blog/assets/js/55.866a8231.js"><link rel="prefetch" href="/mao-blog/assets/js/56.e12d34a8.js"><link rel="prefetch" href="/mao-blog/assets/js/57.57fd273b.js"><link rel="prefetch" href="/mao-blog/assets/js/58.90ce6d0a.js"><link rel="prefetch" href="/mao-blog/assets/js/59.3863dc39.js"><link rel="prefetch" href="/mao-blog/assets/js/6.6d443000.js"><link rel="prefetch" href="/mao-blog/assets/js/60.9e201b5f.js"><link rel="prefetch" href="/mao-blog/assets/js/61.d56ed0f8.js"><link rel="prefetch" href="/mao-blog/assets/js/62.b21d1cc3.js"><link rel="prefetch" href="/mao-blog/assets/js/63.eadaa890.js"><link rel="prefetch" href="/mao-blog/assets/js/64.67bc0773.js"><link rel="prefetch" href="/mao-blog/assets/js/65.ea6aa7cc.js"><link rel="prefetch" href="/mao-blog/assets/js/66.cc349a1f.js"><link rel="prefetch" href="/mao-blog/assets/js/67.838b75e8.js"><link rel="prefetch" href="/mao-blog/assets/js/68.e59ea1bc.js"><link rel="prefetch" href="/mao-blog/assets/js/69.6ac56165.js"><link rel="prefetch" href="/mao-blog/assets/js/7.4209526f.js"><link rel="prefetch" href="/mao-blog/assets/js/70.0dc5fc42.js"><link rel="prefetch" href="/mao-blog/assets/js/71.a9ff44b1.js"><link rel="prefetch" href="/mao-blog/assets/js/72.bd59cddf.js"><link rel="prefetch" href="/mao-blog/assets/js/73.b6b0d409.js"><link rel="prefetch" href="/mao-blog/assets/js/74.92094ea4.js"><link rel="prefetch" href="/mao-blog/assets/js/75.57b289ff.js"><link rel="prefetch" href="/mao-blog/assets/js/76.fae4f14d.js"><link rel="prefetch" href="/mao-blog/assets/js/77.c4f1a7a5.js"><link rel="prefetch" href="/mao-blog/assets/js/78.72a68f19.js"><link rel="prefetch" href="/mao-blog/assets/js/79.42919070.js"><link rel="prefetch" href="/mao-blog/assets/js/8.23939aab.js"><link rel="prefetch" href="/mao-blog/assets/js/80.063e6e91.js"><link rel="prefetch" href="/mao-blog/assets/js/81.c0a3b3d7.js"><link rel="prefetch" href="/mao-blog/assets/js/9.cea725c3.js">
    <link rel="stylesheet" href="/mao-blog/assets/css/0.styles.c7f09f7b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container" data-v-1156296a><div data-v-1156296a><div id="loader-wrapper" class="loading-wrapper" data-v-d48f4d20 data-v-1156296a data-v-1156296a><div class="loader-main" data-v-d48f4d20><div data-v-d48f4d20></div><div data-v-d48f4d20></div><div data-v-d48f4d20></div><div data-v-d48f4d20></div></div> <!----> <!----></div> <div class="password-shadow password-wrapper-out" style="display:none;" data-v-4e82dffc data-v-1156296a data-v-1156296a><h3 class="title" data-v-4e82dffc data-v-4e82dffc>Mr.Mao's blog</h3> <p class="description" data-v-4e82dffc data-v-4e82dffc>For man is man and master of his fate.</p> <label id="box" class="inputBox" data-v-4e82dffc data-v-4e82dffc><input type="password" value="" data-v-4e82dffc> <span data-v-4e82dffc>Konck! Knock!</span> <button data-v-4e82dffc>OK</button></label> <div class="footer" data-v-4e82dffc data-v-4e82dffc><span data-v-4e82dffc><i class="iconfont reco-theme" data-v-4e82dffc></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-4e82dffc>vuePress-theme-reco</a></span> <span data-v-4e82dffc><i class="iconfont reco-copyright" data-v-4e82dffc></i> <a data-v-4e82dffc><span data-v-4e82dffc>Mr.Mao</span>
            
          <span data-v-4e82dffc>2020 - </span>
          2021
        </a></span></div></div> <div class="hide" data-v-1156296a><header class="navbar" data-v-1156296a><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/mao-blog/" class="home-link router-link-active"><img src="/mao-blog/avatar.png" alt="Mr.Mao's blog" class="logo"> <span class="site-name">Mr.Mao's blog</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/mao-blog/" class="nav-link"><i class="iconfont reco-home"></i>
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-document"></i>
      软件开发
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/mao-blog/软件开发/前端笔记/01-HTML-超文本标记语言.html" class="nav-link"><i class="undefined"></i>
  前端开发
</a></li><li class="dropdown-item"><!----> <a href="/mao-blog/软件开发/后端笔记/01-php-后端应用.html" class="nav-link"><i class="undefined"></i>
  后端开发
</a></li><li class="dropdown-item"><!----> <a href="/mao-blog/软件开发/扩展笔记/01-Promise-异步解决方案.html" class="nav-link"><i class="undefined"></i>
  知识扩展
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-npm"></i>
      我的扩展
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/mao-blog/我的扩展/create-uniapp-view.html" class="nav-link"><i class="undefined"></i>
  快速创建视图 | create-uniapp-view
</a></li><li class="dropdown-item"><!----> <a href="/mao-blog/我的扩展/u-draw-poster/01-base-desc.html" class="nav-link"><i class="undefined"></i>
  多端海报绘制 | uni-draw-poster
</a></li><li class="dropdown-item"><!----> <a href="/mao-blog/我的扩展/form-strategy.html" class="nav-link"><i class="undefined"></i>
  表单策略验证 | form-strategy
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-date"></i>
      规划指南
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/mao-blog/规划指南/01-日常指标.html" class="nav-link"><i class="undefined"></i>
  生活指标
</a></li><li class="dropdown-item"><!----> <a href="/mao-blog/规划指南/02-总结与规划.html" class="nav-link"><i class="undefined"></i>
  总结与规划
</a></li><li class="dropdown-item"><!----> <a href="/mao-blog/个人记录/职场事项.html" class="nav-link"><i class="undefined"></i>
  职场 RULE
</a></li></ul></div></div><div class="nav-item"><a href="/mao-blog/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  标签
</a></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-1156296a></div> <aside class="sidebar" data-v-1156296a><div class="personal-info-wrapper" data-v-828910c6 data-v-1156296a><img src="/mao-blog/avatar.png" alt="author-avatar" class="personal-img" data-v-828910c6> <h3 class="name" data-v-828910c6>
    Mr.Mao
  </h3> <div class="num" data-v-828910c6><div data-v-828910c6><h3 data-v-828910c6>70</h3> <h6 data-v-828910c6>Articles</h6></div> <div data-v-828910c6><h3 data-v-828910c6>46</h3> <h6 data-v-828910c6>Tags</h6></div></div> <ul class="social-links" data-v-828910c6></ul> <hr data-v-828910c6></div> <nav class="nav-links"><div class="nav-item"><a href="/mao-blog/" class="nav-link"><i class="iconfont reco-home"></i>
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-document"></i>
      软件开发
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/mao-blog/软件开发/前端笔记/01-HTML-超文本标记语言.html" class="nav-link"><i class="undefined"></i>
  前端开发
</a></li><li class="dropdown-item"><!----> <a href="/mao-blog/软件开发/后端笔记/01-php-后端应用.html" class="nav-link"><i class="undefined"></i>
  后端开发
</a></li><li class="dropdown-item"><!----> <a href="/mao-blog/软件开发/扩展笔记/01-Promise-异步解决方案.html" class="nav-link"><i class="undefined"></i>
  知识扩展
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-npm"></i>
      我的扩展
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/mao-blog/我的扩展/create-uniapp-view.html" class="nav-link"><i class="undefined"></i>
  快速创建视图 | create-uniapp-view
</a></li><li class="dropdown-item"><!----> <a href="/mao-blog/我的扩展/u-draw-poster/01-base-desc.html" class="nav-link"><i class="undefined"></i>
  多端海报绘制 | uni-draw-poster
</a></li><li class="dropdown-item"><!----> <a href="/mao-blog/我的扩展/form-strategy.html" class="nav-link"><i class="undefined"></i>
  表单策略验证 | form-strategy
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-date"></i>
      规划指南
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/mao-blog/规划指南/01-日常指标.html" class="nav-link"><i class="undefined"></i>
  生活指标
</a></li><li class="dropdown-item"><!----> <a href="/mao-blog/规划指南/02-总结与规划.html" class="nav-link"><i class="undefined"></i>
  总结与规划
</a></li><li class="dropdown-item"><!----> <a href="/mao-blog/个人记录/职场事项.html" class="nav-link"><i class="undefined"></i>
  职场 RULE
</a></li></ul></div></div><div class="nav-item"><a href="/mao-blog/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  标签
</a></div> <!----></nav> <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>前端笔记</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/mao-blog/ruan-jian-kai-fa/qian-duan-bi-ji/01-html-chao-wen-ben-biao-ji-yu-yan.html" class="sidebar-link">HTML 超文本标记语言</a></li><li><a href="/mao-blog/ruan-jian-kai-fa/qian-duan-bi-ji/02-css2-ying-yong.html" class="sidebar-link">CSS2 应用</a></li><li><a href="/mao-blog/ruan-jian-kai-fa/qian-duan-bi-ji/03-css3-ying-yong.html" class="sidebar-link">CSS3 应用</a></li><li><a href="/mao-blog/ruan-jian-kai-fa/qian-duan-bi-ji/04-less-cssyu-chu-li-yu-yan.html" class="sidebar-link">Less CSS预处理语言</a></li><li><a href="/mao-blog/ruan-jian-kai-fa/qian-duan-bi-ji/05-javascript-ying-yong.html" class="sidebar-link">JavaScript 应用</a></li><li><a href="/mao-blog/ruan-jian-kai-fa/qian-duan-bi-ji/06-javascript-shen-ru.html" class="sidebar-link">JavaScript 深入</a></li><li><a href="/mao-blog/ruan-jian-kai-fa/qian-duan-bi-ji/07-javascript-xing-neng-you-hua.html" class="sidebar-link">JavaScript 性能优化</a></li><li><a href="/mao-blog/ruan-jian-kai-fa/qian-duan-bi-ji/08-lodash-gong-ju-mo-kuai-ying-yong.html" class="sidebar-link">Lodash 简介</a></li><li><a href="/mao-blog/ruan-jian-kai-fa/qian-duan-bi-ji/09-html5-javascript-ying-yong.html" class="sidebar-link">HTML5 JavaScript 应用</a></li><li><a href="/mao-blog/ruan-jian-kai-fa/qian-duan-bi-ji/10-ajax-yi-bu-shu-ju-chuan-shu.html" aria-current="page" class="active sidebar-link">Ajax 异步数据传输</a></li><li><a href="/mao-blog/ruan-jian-kai-fa/qian-duan-bi-ji/11-npm--bao-guan-li-gong-ju.html" class="sidebar-link">NPM  包管理工具</a></li><li><a href="/mao-blog/ruan-jian-kai-fa/qian-duan-bi-ji/12-zepto-qian-duan-kuang-jia-kai-fa.html" class="sidebar-link">Zepto 前端框架开发</a></li><li><a href="/mao-blog/ruan-jian-kai-fa/qian-duan-bi-ji/13-angularjs-qian-duan-kuang-jia-kai-fa-jiu-ban-.html" class="sidebar-link">AngularJS 前端框架开发(旧版)</a></li><li><a href="/mao-blog/ruan-jian-kai-fa/qian-duan-bi-ji/14-ecmascript-6-8-biao-zhun.html" class="sidebar-link">ECMAScript 6</a></li><li><a href="/mao-blog/ruan-jian-kai-fa/qian-duan-bi-ji/15-javascript-mo-kuai-hua-ying-yong.html" class="sidebar-link">JavaScript 模块化应用</a></li><li><a href="/mao-blog/ruan-jian-kai-fa/qian-duan-bi-ji/16-eslint-dai-ma-jian-ce-gong-ju.html" class="sidebar-link">Eslint 代码检测工具</a></li><li><a href="/mao-blog/ruan-jian-kai-fa/qian-duan-bi-ji/17-git-ban-ben-kong-zhi-xi-tong.html" class="sidebar-link">Git 版本控制系统</a></li><li><a href="/mao-blog/ruan-jian-kai-fa/qian-duan-bi-ji/18-grunt-kai-fa-yu-sheng-chan-huan-jing.html" class="sidebar-link">Grunt 开发与生产环境</a></li><li><a href="/mao-blog/ruan-jian-kai-fa/qian-duan-bi-ji/19-gulp-kai-fa-yu-sheng-chan-huan-jing.html" class="sidebar-link">Gulp 开发与生产环境</a></li><li><a href="/mao-blog/ruan-jian-kai-fa/qian-duan-bi-ji/20-webpack-kai-fa-huan-jing.html" class="sidebar-link">webpack 开发环境</a></li><li><a href="/mao-blog/ruan-jian-kai-fa/qian-duan-bi-ji/21-webpack-sheng-chan-huan-jing.html" class="sidebar-link">webpack 生产环境</a></li><li><a href="/mao-blog/ruan-jian-kai-fa/qian-duan-bi-ji/22-webpack-you-hua-huan-jing.html" class="sidebar-link">webpack 优化环境</a></li><li><a href="/mao-blog/ruan-jian-kai-fa/qian-duan-bi-ji/23-webpack-quan-mian-fen-xi.html" class="sidebar-link">react-cli 全面分析</a></li><li><a href="/mao-blog/ruan-jian-kai-fa/qian-duan-bi-ji/24-webpack-xiang-xi-pei-zhi.html" class="sidebar-link">webpack 详细配置</a></li><li><a href="/mao-blog/ruan-jian-kai-fa/qian-duan-bi-ji/25-react-qian-duan-kuang-jia-kai-fa.html" class="sidebar-link">React 前端框架开发</a></li><li><a href="/mao-blog/ruan-jian-kai-fa/qian-duan-bi-ji/26-reacthooks-v16.8xin-te-xing.html" class="sidebar-link">ReactHooks v16.8新特性</a></li><li><a href="/mao-blog/ruan-jian-kai-fa/qian-duan-bi-ji/27-vue2-jian-jin-shi-qian-duan-kuang-jia-kai-fa.html" class="sidebar-link">Vue2 渐进式前端框架开发</a></li><li><a href="/mao-blog/ruan-jian-kai-fa/qian-duan-bi-ji/28-vue3-jian-jin-shi-qian-duan-kuang-jia-kai-fa.html" class="sidebar-link">Vue3 渐进式前端框架开发</a></li><li><a href="/mao-blog/ruan-jian-kai-fa/qian-duan-bi-ji/29-axios-jie-kou-qing-qiu-ku.html" class="sidebar-link">axios 接口请求库</a></li><li><a href="/mao-blog/ruan-jian-kai-fa/qian-duan-bi-ji/30-mobile.app-yuan-sheng-webappkai-fa.html" class="sidebar-link">H5原生WebAPP开发</a></li><li><a href="/mao-blog/ruan-jian-kai-fa/qian-duan-bi-ji/31-wei-xin-yuan-sheng-xiao-cheng-xu-kai-fa.html" class="sidebar-link">微信原生小程序开发</a></li><li><a href="/mao-blog/ruan-jian-kai-fa/qian-duan-bi-ji/32-mpvue-xiao-cheng-xu-kai-fa.html" class="sidebar-link">mpvue 小程序开发</a></li><li><a href="/mao-blog/ruan-jian-kai-fa/qian-duan-bi-ji/33-uniapp-duo-duan-ying-yong-kai-fa.html" class="sidebar-link">uniapp 多端应用开发</a></li><li><a href="/mao-blog/ruan-jian-kai-fa/qian-duan-bi-ji/34-wei-xin-gong-zhong-hao-fu-wu-kai-fa.html" class="sidebar-link">微信公众号服务开发</a></li><li><a href="/mao-blog/ruan-jian-kai-fa/qian-duan-bi-ji/35-uniapp-duo-duan-ying-yong-kai-fa.html" class="sidebar-link">uniapp 多端应用开发</a></li><li><a href="/mao-blog/ruan-jian-kai-fa/qian-duan-bi-ji/36-javascript-she-ji-mo-shi.html" class="sidebar-link">JavaScript 设计模式</a></li><li><a href="/mao-blog/ruan-jian-kai-fa/qian-duan-bi-ji/37-typescript-ying-yong.html" class="sidebar-link">TypeScript 应用</a></li><li><a href="/mao-blog/ruan-jian-kai-fa/qian-duan-bi-ji/38-esmascript-8-11-biao-zhun.html" class="sidebar-link">ESMAScript 8</a></li><li><a href="/mao-blog/ruan-jian-kai-fa/qian-duan-bi-ji/39-jest-zi-dong-hua-bu-shu-ce-shi.html" class="sidebar-link">Jest 自动化部署测试</a></li><li><a href="/mao-blog/ruan-jian-kai-fa/qian-duan-bi-ji/40-vite-shi-yong-yu-yuan-li-fen-xi.html" class="sidebar-link">Vite 使用与原理分析</a></li><li><a href="/mao-blog/ruan-jian-kai-fa/qian-duan-bi-ji/41-ji-shu-zhan-gou-jian-fang-an.html" class="sidebar-link">技术栈构建方案</a></li></ul></section></li></ul> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-4e82dffc data-v-1156296a><h3 class="title" data-v-4e82dffc data-v-4e82dffc>Ajax 异步数据传输</h3> <!----> <label id="box" class="inputBox" data-v-4e82dffc data-v-4e82dffc><input type="password" value="" data-v-4e82dffc> <span data-v-4e82dffc>Konck! Knock!</span> <button data-v-4e82dffc>OK</button></label> <div class="footer" data-v-4e82dffc data-v-4e82dffc><span data-v-4e82dffc><i class="iconfont reco-theme" data-v-4e82dffc></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-4e82dffc>vuePress-theme-reco</a></span> <span data-v-4e82dffc><i class="iconfont reco-copyright" data-v-4e82dffc></i> <a data-v-4e82dffc><span data-v-4e82dffc>Mr.Mao</span>
            
          <span data-v-4e82dffc>2020 - </span>
          2021
        </a></span></div></div> <div data-v-1156296a><main class="page"><section><div class="page-title"><h1 class="title">Ajax 异步数据传输</h1> <div data-v-1ff7123e><i class="iconfont reco-account" data-v-1ff7123e><span data-v-1ff7123e>Mr.Mao</span></i> <i class="iconfont reco-date" data-v-1ff7123e><span data-v-1ff7123e>11/1/2020</span></i> <i class="iconfont reco-eye" data-v-1ff7123e><span id="/mao-blog/ruan-jian-kai-fa/qian-duan-bi-ji/10-ajax-yi-bu-shu-ju-chuan-shu.html" data-flag-title="Your Article Title" class="leancloud-visitors" data-v-1ff7123e><a class="leancloud-visitors-count" style="font-size:.9rem;font-weight:normal;color:#999;"></a></span></i> <i class="tags iconfont reco-tag" data-v-1ff7123e><span class="tag-item" data-v-1ff7123e>ajax</span></i></div></div> <div class="theme-reco-content content__default"><h2 id="http-响应协议"><a href="#http-响应协议" class="header-anchor">#</a> HTTP 响应协议</h2> <h3 id="http-概念"><a href="#http-概念" class="header-anchor">#</a> HTTP 概念</h3> <p><strong>HTTP是一种能够获取如 HTML 这样的网络资源的 <a href="https://developer.mozilla.org/en-US/docs/Glossary/protocol" target="_blank" rel="noopener noreferrer">protocol<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>(通讯协议)。它是在 Web 上进行数据交换的基础，是一种 client-server 协议，也就是说，请求通常是由像浏览器这样的接受方发起的。一个完整的Web文档通常是由不同的子文档拼接而成的，像是文本、布局描述、图片、视频、脚本等等。</strong></p> <h3 id="http-请求交互的基本过程"><a href="#http-请求交互的基本过程" class="header-anchor">#</a> HTTP 请求交互的基本过程</h3> <p><img src="/mao-blog/assets/img/axiosliucheng2.a2d951ce.png" alt="请求流程"></p> <ol><li>前后应用从浏览器端向服务器发送 HTTP 请求(请求报文)</li> <li>后台服务器接收到请求后, 调度服务器应用处理请求, 向浏览器端返回 HTTP 响应(响应报文)</li> <li>浏览器端接收到响应, 解析显示响应体/调用监视回调</li></ol> <h3 id="http-请求报文"><a href="#http-请求报文" class="header-anchor">#</a> HTTP 请求报文</h3> <p><strong>请求行:</strong> <code>method url</code> <code>GET /product_detail?id=2</code> <code>POST /login</code> <strong>多个请求头:</strong> <code>Host: www.baidu.com</code> <code>Cookie: BAIDUID=AD3B0FA706E; BIDUPSID=AD3B0FA706;</code> <code>Content-Type: application/x-www-form-urlencoded 或者 application/json</code> <strong>请求体:</strong> <code>username=tom&amp;pwd=123</code> <code>{&quot;username&quot;: &quot;tom&quot;, &quot;pwd&quot;: 123}</code></p> <h3 id="http-响应报文"><a href="#http-响应报文" class="header-anchor">#</a> HTTP 响应报文</h3> <p><strong>响应状态行:</strong> <code>status statusText</code> <strong>多个响应头:</strong> <code>Content-Type: text/html;charset=utf-8</code> <code>Set-Cookie: BD_CK_SAM=1;path=/</code> <strong>响应体:</strong> <code>html 文本/json 文本/js/css/图片...</code></p> <h3 id="post-请求体参数格式"><a href="#post-请求体参数格式" class="header-anchor">#</a> post 请求体参数格式</h3> <p><code>Content-Type: application/x-www-form-urlencoded;charset=utf-8</code> <strong>用于键值对参数，参数的键值用=连接, 参数之间用&amp;连接</strong>
例如: <code>name=%E5%B0%8F%E6%98%8E&amp;age=12</code></p> <p><code>Content-Type: application/json;charset=utf-8</code> <strong>用于 json 字符串参数</strong>
例如: {&quot;name&quot;: &quot;%E5%B0%8F%E6%98%8E&quot;, &quot;age&quot;: 12}</p> <p><code>Content-Type: multipart/form-data</code> <strong>用于文件上传请求</strong></p> <h3 id="常见的响应状态码"><a href="#常见的响应状态码" class="header-anchor">#</a> 常见的响应状态码</h3> <table><thead><tr><th>响应码</th> <th>状态</th> <th>状态详情</th></tr></thead> <tbody><tr><td>200</td> <td>OK</td> <td>请求成功。一般用于 GET 与 POST 请求</td></tr> <tr><td>201</td> <td>Created</td> <td>已创建。成功请求并创建了新的资源</td></tr> <tr><td>401</td> <td>Unauthorized</td> <td>未授权/请求要求用户的身份认证</td></tr> <tr><td>404</td> <td>Not Found</td> <td>服务器无法根据客户端的请求找到资源</td></tr> <tr><td>500</td> <td>Internal Server Error</td> <td>服务器内部错误，无法完成请求</td></tr></tbody></table> <h3 id="不同类型的请求及其作用"><a href="#不同类型的请求及其作用" class="header-anchor">#</a> 不同类型的请求及其作用</h3> <ol><li>GET: 从服务器端读取数据</li> <li>POST: 向服务器端添加新数据</li> <li>PUT: 更新服务器端已经数据</li> <li>DELETE: 删除服务器端数据</li></ol> <h3 id="api-的分类"><a href="#api-的分类" class="header-anchor">#</a> API 的分类</h3> <h4 id="rest-api"><a href="#rest-api" class="header-anchor">#</a> REST API</h4> <p>发送请求进行 CRUD 哪个操作由请求方式来决定
同一个请求路径可以进行多个操作
请求方式会用到 GET/POST/PUT/DELETE</p> <h4 id="非-rest-api"><a href="#非-rest-api" class="header-anchor">#</a> 非 REST API</h4> <p>请求方式不决定请求的 CRUD 操作
一个请求路径只对应一个操作
一般只有 GET/POST</p> <h2 id="json-server"><a href="#json-server" class="header-anchor">#</a> json-server</h2> <p>JSON-Server 是一个 Node 模块，运行 Express 服务器，可以指定一个 json 文件作为 api 的数据源。</p> <h3 id="安装-json-server"><a href="#安装-json-server" class="header-anchor">#</a> 安装 json-server</h3> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">npm</span> <span class="token function">install</span> -g json-server
<span class="token function">npm</span> i cors express --save
</code></pre></div><h3 id="启动-json-server"><a href="#启动-json-server" class="header-anchor">#</a> 启动 json-server</h3> <p><code>json-server</code>可以直接把一个<code>json</code>文件托管成一个具备全<code>RESTful</code>风格的<code>API</code>,并支持跨域、<code>jsonp</code>、路由订制、数据快照保存等功能的 web 服务器。</p> <p>db.json文件的内容：</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;course&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">1000</span><span class="token punctuation">,</span>
      <span class="token property">&quot;course_name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;马连白米且&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;autor&quot;</span><span class="token operator">:</span> <span class="token string">&quot;袁明&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;college&quot;</span><span class="token operator">:</span> <span class="token string">&quot;金并即总变史&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;category_Id&quot;</span><span class="token operator">:</span> <span class="token number">2</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">1001</span><span class="token punctuation">,</span>
      <span class="token property">&quot;course_name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;公拉农题队始果动&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;autor&quot;</span><span class="token operator">:</span> <span class="token string">&quot;高丽&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;college&quot;</span><span class="token operator">:</span> <span class="token string">&quot;先了队叫及便&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;category_Id&quot;</span><span class="token operator">:</span> <span class="token number">2</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>例如以下命令，把<code>db.json</code>文件托管成一个 web 服务。</p> <div class="language-sh extra-class"><pre class="language-sh"><code>$ json-server --watch --port <span class="token number">53000</span> db.json
</code></pre></div><p>输出类似以下内容，说明启动成功。</p> <div class="language- extra-class"><pre class="language-text"><code>/{^_^}/ hi!

Loading db.json
Done

Resources
http://localhost:53000/course

Home
http://localhost:53000

Type s + enter at any time to create a snapshot of the database
Watching...
</code></pre></div><p>此时，你可以打开你的浏览器，然后输入：http://localhost:53000/course</p> <h4 id="使用浏览器进行访问"><a href="#使用浏览器进行访问" class="header-anchor">#</a> 使用浏览器进行访问</h4> <div class="language-sh extra-class"><pre class="language-sh"><code>http://localhost:53000/course/1000
</code></pre></div><h2 id="xmlhttprequest的概述"><a href="#xmlhttprequest的概述" class="header-anchor">#</a> XMLHttpRequest的概述</h2> <p><code>XMLHttpRequest</code> 最早是在IE5中以ActiveX组件的形式实现的。非 <code>W3C</code> 标准.
创建<code>XMLHttpRequest</code>对象（由于非标准所以实现方法不统一）
<code>Internet Explorer</code>把<code>XMLHttpRequest</code>实现为一个<code>ActiveX</code>对象
其他浏览器<code>（Firefox、Safari、Opera…）</code>把它实现为一个本地的<code>JavaScript</code>对象。
<code>XMLHttpRequest</code>在不同浏览器上的实现是兼容的，所以可以用同样的方式访问<code>XMLHttpRequest</code>实例的属性和方法，而不论这个实例创建的方法是什么。</p> <h3 id="ajax工作原理"><a href="#ajax工作原理" class="header-anchor">#</a> Ajax工作原理</h3> <p><img src="/mao-blog/assets/img/Ajax.d79f024b.png" alt=""></p> <p><code>Ajax</code>并不是一项新技术，它实际上是几种技术，每种技术各尽其职，以一种全新的方式聚合在一起
服务器端语言：服务器需要具备向浏览器发送特定信息的能力。Ajax与服务器端语言无关。
<code>XML (eXtensible Markup Language，可扩展标记语言)</code> 是一种描述数据的格式。<code>Aajx</code> 程序需要某种格式化的格式来在服务器和客户端之间传递信息，<code>XML</code> 是其中的一种选择
<code>XHTML（eXtended Hypertext Markup Language）</code>,使用扩展超媒体标记语言）和 <code>CSS（Cascading Style Sheet,级联样式单）</code>标准化呈现；
<code>DOM（Document Object Model,文档对象模型）</code>实现动态显示和交互；
使用<code>XMLHTTP</code>组件<code>XMLHttpRequest</code>对象进行异步数据读取
使用<code>JavaScript</code>绑定和处理所有数据</p> <h3 id="ajax的缺陷"><a href="#ajax的缺陷" class="header-anchor">#</a> Ajax的缺陷</h3> <p><code>AJAX</code>不是完美的技术。使用<code>AJAX</code>，它的一些缺陷不得不权衡一下：
由 <code>Javascript</code> 和 <code>AJAX</code> 引擎导致的浏览器的兼容
页面局部刷新，导致后退等功能失效。
对流媒体的支持没有<code>FLASH</code>、<code>Java Applet</code>好。
一些手持设备（如手机、<code>PDA</code>等）支持性差。</p> <h2 id="创建xmlhttprequest对象"><a href="#创建xmlhttprequest对象" class="header-anchor">#</a> 创建XMLHttpRequest对象</h2> <p>为了每次写<code>Ajax</code>的时候都节省一点时间，可以把对象检测的内容打包成一个可复用的函数：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">getHTTPObject</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
<span class="token keyword">var</span> xhr <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token keyword">if</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>XMLHttpRequest<span class="token punctuation">)</span><span class="token punctuation">{</span>
	xhr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>ActiveXObject<span class="token punctuation">)</span><span class="token punctuation">{</span>
	xhr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ActiveXObject</span><span class="token punctuation">(</span><span class="token string">&quot;Microsoft.XMLHTTP&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">return</span> xhr<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>[^说明]: 对window.XMLHttpRequest的调用会返回一个对象或null，if语句会把调用返回的结果看作是true或false**（如果返回对象则为true，返回null则为false）。**如果XMLHttpRequest对象存在，则把 xhr 的值设为该对象的新实例。如果不存在，就去检测 ActiveObject 的实例是否存在，如果答案是肯定的，则把微软 XMLHTTP 的新实例赋给 xhr</p> <h3 id="xmlhttprequest的方法"><a href="#xmlhttprequest的方法" class="header-anchor">#</a> XMLHttpRequest的方法</h3> <table><thead><tr><th>方法</th> <th>描述</th></tr></thead> <tbody><tr><td>abort()</td> <td>停止当前请求</td></tr> <tr><td>getAllResponseHeaders()</td> <td>把HTTP请求的所有响音首部作为键/值返回</td></tr> <tr><td>open(&quot;method&quot;,&quot;url&quot;)</td> <td>简历对服务器的调用。Method参数可以是GET或POST或PUT.url参数可以是相对url或绝对url</td></tr> <tr><td>send(content)</td> <td>向服务器发送请求</td></tr> <tr><td>setRequestHeader(&quot;header&quot;,&quot;value&quot;)</td> <td>把指定首部设置为所提供的值。在设置任何首部之前先调用open()</td></tr></tbody></table> <h3 id="xmlhttprequest的属性"><a href="#xmlhttprequest的属性" class="header-anchor">#</a> XMLHttpRequest的属性</h3> <table><thead><tr><th>属性</th> <th>描述</th></tr></thead> <tbody><tr><td>onreadystatechange</td> <td>每个状态改变是都会触发这个时间处理器，通常会调用一个javaScript函数</td></tr> <tr><td>readyState</td> <td>请求的状态，有5个可取值：0=未初始化、1=正在加载、2=已经加载、3、交互中、4=、完成</td></tr> <tr><td>responseText</td> <td>服务器的响应，表示一个串</td></tr> <tr><td>responseXML</td> <td>服务器的响应，表示为XML，这个对象可以解析为DOM对象</td></tr> <tr><td>status</td> <td>服务器的HTTP状态码（200对应OK、404对应NotFount、等）</td></tr> <tr><td>statusText</td> <td>HTTP状态码的相应文本（OK或NotFount等）</td></tr></tbody></table> <h2 id="发送请求"><a href="#发送请求" class="header-anchor">#</a> 发送请求</h2> <p>利用XMLHttpRequest 实例与服务器进行通信包含以下3个关键部分：
<strong>onreadystatechange 事件处理函数</strong>， <strong>open 方法</strong>，<strong>send 方法</strong>，</p> <h3 id="open-method-url-asynch"><a href="#open-method-url-asynch" class="header-anchor">#</a> open(method, url, asynch)</h3> <p><code>XMLHttpRequest</code> 对象的 <code>open</code> 方法允许程序员用一个<code>Ajax</code>调用向服务器发送请求。</p> <p><strong>method</strong>
请求类型，类似 <code>“GET”</code>或<code>”POST”</code>的字符串。若只想从服务器检索一个文件，而不需要发送任何数据，使用GET(可以在GET请求里通过附加在URL上的查询字符串来发送数据，不过数据大小限制为2000个字符)。若需要向服务器发送数据，用POST。
在某些情况下，有些浏览器会把多个XMLHttpRequest请求的结果缓存在同一个URL。如果对每个请求的响应不同，就会带来不好的结果。在此将时间戳追加到URL的最后，就能确保URL的唯一性，从而避免浏览器缓存结果。<code>(“?time=”+new Date());</code></p> <p>**url：**路径字符串，指向你所请求的服务器上的那个文件。可以是绝对路径或相对路径。</p> <p><strong>asynch</strong>
表示请求是否要异步传输，默认值为true。指定true，在读取后面的脚本之前，不需要等待服务器的相应。指定false，当脚本处理过程经过这点时，会停下来，一直等到Ajax请求执行完毕再继续执行。</p> <h3 id="send-data"><a href="#send-data" class="header-anchor">#</a> send(data)</h3> <p><code>open</code> 方法定义了 Ajax 请求的一些细节。send 方法可为已经待命的请求发送指令
<strong>data</strong>：将要传递给服务器的字符串。
当向<code>send()</code>方法提供参数时，要确保open()中指定的方法是<code>POST</code>，如果没有数据作为请求体的一部分发送，则使用<code>null</code>.</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> request <span class="token operator">=</span> <span class="token function">getHTTPObject</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
request<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">&quot;GET&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;file.txt&quot;</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">)</span>
request<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span>
request<span class="token punctuation">.</span>onreadystatechange <span class="token operator">=</span> doSomeThing
</code></pre></div><h3 id="onreadystatechange"><a href="#onreadystatechange" class="header-anchor">#</a> onreadystatechange</h3> <p>该事件处理函数由服务器触发，而不是用户</p> <h2 id="接收响应"><a href="#接收响应" class="header-anchor">#</a> 接收响应</h2> <p>用 XMLHttpRequest 的方法可向服务器发送请求。在 Ajax 处理过程中，XMLHttpRequest 的如下属性可被服务器更改：
<code>readyState	status	responseText	responseXML</code></p> <h3 id="readystate"><a href="#readystate" class="header-anchor">#</a> readyState</h3> <p><strong>readyState 属性表示Ajax请求的当前状态。它的值用数字代表。</strong>
0 代表未初始化。 还没有调用 open 方法
1 代表正在加载。 open 方法已被调用，但 send 方法还没有被调用
2 代表已加载完毕。send 已被调用。请求已经开始
3 代表交互中。服务器正在发送响应4 代表完成。响应发送完毕</p> <p>每次 <code>readyState</code> 值的改变，都会触发 <code>readystatechange</code> 事件。如果把 <code>onreadystatechange</code> 事件处理函数赋给一个函数，那么每次 <code>readyState</code> 值的改变都会引发该函数的执行。
<code>readyState</code> 值的变化会因浏览器的不同而有所差异。但是，当请求结束的时候，每个浏览器都会把 readyState 的值统一设为 4</p> <h3 id="status"><a href="#status" class="header-anchor">#</a> status</h3> <p>服务器发送的每一个响应也都带有首部信息。三位数的状态码是服务器发送的响应中最重要的首部信息，并且属于超文本传输协议中的一部分。</p> <p>常用状态码及其含义：
404 没找到页面(not found)
403 禁止访问(forbidden)
500 内部服务器出错(internal service error)
200 一切正常(ok)
304 没有被修改(not modified)</p> <p>在 XMLHttpRequest 对象中，服务器发送的状态码都保存在 status 属性里。通过把这个值和 200 或 304 比较，可以确保服务器是否已发送了一个成功的响应</p> <h3 id="responsetext"><a href="#responsetext" class="header-anchor">#</a> responseText</h3> <p>XMLHttpRequest 的 responseText 属性包含了从服务器发送的数据。它是一个HTML,XML或普通文本，这取决于服务器发送的内容。</p> <p>当 readyState 属性值变成 4 时, responseText 属性才可用，表明 Ajax 请求已经结束。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>request<span class="token punctuation">.</span><span class="token function-variable function">onreadystatechange</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span>readyState <span class="token operator">==</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span>status <span class="token operator">==</span> <span class="token number">200</span> <span class="token operator">||</span> request<span class="token punctuation">.</span>status <span class="token operator">==</span> <span class="token number">304</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
			<span class="token function">alert</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span>responseText<span class="token punctuation">)</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="responsexml"><a href="#responsexml" class="header-anchor">#</a> responseXML</h3> <p>如果服务器返回的是 XML， 那么数据将储存在 responseXML 属性中。
只用服务器发送了带有正确首部信息的数据时， responseXML 属性才是可用的。 MIME 类型必须为 text/xml</p> <h2 id="数据格式提要"><a href="#数据格式提要" class="header-anchor">#</a> 数据格式提要</h2> <p>在服务器端 AJAX 是一门与语言无关的技术。在业务逻辑层使用何种服务器端语言都可以。
从服务器端接收数据的时候，那些数据必须以浏览器能够理解的格式来发送。服务器端的编程语言只能以如下 3 种格式返回数据：<strong>- XML		- JSON		- HTML</strong></p> <h3 id="xml"><a href="#xml" class="header-anchor">#</a> XML</h3> <p>**优点：**XML 是一种通用的数据格式。不必把数据强加到已定义好的格式中，而是要为数据自定义合适的标记。利用 DOM 可以完全掌控文档。
**缺点：**如果文档来自于服务器，就必须得保证文档含有正确的首部信息。若文档类型不正确，那么 responseXML 的值将是空的。当浏览器接收到长的 XML 文件后， DOM 解析可能会很复杂</p> <h3 id="json"><a href="#json" class="header-anchor">#</a> JSON</h3> <p>JSON（JavaScript Object Notation）一种简单的数据格式，比xml更轻巧。JSON是JavaScript原生格式，这意味着在JavaScript中处理JSON数据不需要任何特殊的API或工具包。
JSON的规则很简单：对象是一个无序的“‘名称/值’对”集合。一个对象以“{”（左括号）开始，“}”（右括号）结束。每个“名称”后跟一个“:”（冒号）；“‘名称/值’对”之间使用“,”（逗号）分隔。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token punctuation">[</span><span class="token punctuation">{</span>
	<span class="token string">&quot;songname&quot;</span><span class="token operator">:</span> <span class="token string">&quot;70亿人の头の上に风船を&quot;</span><span class="token punctuation">,</span>
	<span class="token string">&quot;singer&quot;</span><span class="token operator">:</span> <span class="token string">&quot;きくお&quot;</span><span class="token punctuation">,</span>
	<span class="token string">&quot;album&quot;</span><span class="token operator">:</span> <span class="token string">&quot;きくおミク&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span>
	<span class="token string">&quot;songname&quot;</span><span class="token operator">:</span> <span class="token string">&quot;70亿人の头の上に风船を&quot;</span><span class="token punctuation">,</span>
	<span class="token string">&quot;singer&quot;</span><span class="token operator">:</span> <span class="token string">&quot;きくお&quot;</span><span class="token punctuation">,</span>
	<span class="token string">&quot;album&quot;</span><span class="token operator">:</span> <span class="token string">&quot;きくおミク&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">]</span>
</code></pre></div><p>JSON 用冒号(而不是等号)来赋值。每一条赋值语句用逗号分开。整个对象用大括号封装起来。可用大括号分级嵌套数据。</p> <p>JSON 只是一种文本字符串。它被存储在 responseText 属性中
为了读取存储在 responseText 属性中的 JSON 数据，需要根据 JavaScript 的 eval 语句。函数 eval 会把一个字符串当作它的参数。然后这个字符串会被当作 JavaScript 代码来执行。因为 JSON 的字符串就是由 JavaScript 代码构成的，所以它本身是可执行的。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 使用eval()</span>
<span class="token keyword">var</span> jsonStr <span class="token operator">=</span> xhr<span class="token punctuation">.</span>responseText
<span class="token keyword">var</span> personObj <span class="token operator">=</span> <span class="token function">eval</span><span class="token punctuation">(</span><span class="token string">&quot;(&quot;</span><span class="token operator">+</span>jsonStr<span class="token operator">+</span><span class="token string">&quot;)&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> name <span class="token operator">=</span> personObj<span class="token punctuation">.</span>name
<span class="token comment">// 使用JSON.parse()</span>
<span class="token keyword">var</span> jsonStr <span class="token operator">=</span> xhr<span class="token punctuation">.</span>responseText
<span class="token keyword">var</span> personObj <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>jsonStr<span class="token punctuation">)</span>
<span class="token keyword">var</span> name <span class="token operator">=</span> personObj<span class="token punctuation">.</span>name
</code></pre></div><p>**优点：**作为一种数据传输格式，JSON 与 XML 很相似，但是它更加灵巧。JSON 不需要从服务器端发送含有特定内容类型的首部信息。
**缺点：**语法过于严谨，代码不易读，eval 函数存在风险</p> <h3 id="html"><a href="#html" class="header-anchor">#</a> HTML</h3> <p>HTML 由一些普通文本组成。如果服务器通过 XMLHttpRequest 发送 HTML， 文本将存储在 responseText 属性中。
不必从 responseText 属性中读取数据。它已经是希望的格式，可以直接将它插入到页面中。插入 HTML 代码最简单的方法是更新这个元素的 innerHTML 属性。
**优点：**从服务器端发送的 HTML 代码在浏览器端不需要用 JavaScript 进行解析。HTML 的可读性好。HTML 代码块与 innerHTML 属性搭配，效率高。
**缺点：**若需要通过 AJAX 更新一篇文档的多个部分，HTML 不合适，innerHTML 并非 DOM 标准。</p> <h3 id="对比小结"><a href="#对比小结" class="header-anchor">#</a> 对比小结</h3> <p>若应用程序不需要与其他应用程序共享数据的时候, 使用 HTML 片段来返回数据时最简单的
如果数据需要重用, JSON 文件是个不错的选择, 其在性能和文件大小方面有优势
当远程应用程序未知时, XML 文档是首选, 因为 XML 是 web 服务领域的 “世界语”</p> <h2 id="原生ajax请求流程"><a href="#原生ajax请求流程" class="header-anchor">#</a> 原生Ajax请求流程</h2> <h3 id="封装兼容其他浏览器-gethttpobject-对象"><a href="#封装兼容其他浏览器-gethttpobject-对象" class="header-anchor">#</a> 封装兼容其他浏览器  getHTTPObject 对象</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">getHTTPObject</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
<span class="token keyword">var</span> xhr <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token keyword">if</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>XMLHttpRequest<span class="token punctuation">)</span><span class="token punctuation">{</span>
	xhr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>ActiveXObject<span class="token punctuation">)</span><span class="token punctuation">{</span>
	xhr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ActiveXObject</span><span class="token punctuation">(</span><span class="token string">&quot;Microsoft.XMLHTTP&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">return</span> xhr<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="原生-ajax-发送请求流程"><a href="#原生-ajax-发送请求流程" class="header-anchor">#</a> 原生 Ajax  发送请求流程</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 1. 创建 XmlHttpRequest 对象</span>
<span class="token keyword">var</span> request <span class="token operator">=</span> <span class="token function">getHTTPObject</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">// 2. 准备发送请求的数据：url</span>
<span class="token keyword">var</span> url <span class="token operator">=</span> <span class="token string">'helloAjax.txt'</span><span class="token operator">+</span><span class="token string">&quot;?time=&quot;</span><span class="token operator">+</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 防止缓存</span>
<span class="token keyword">var</span> method <span class="token operator">=</span> <span class="token string">'GET'</span>
<span class="token comment">// 3. 调用 XMLHttpRequest 对象的 open 方法规定发送格式</span>
request<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span>method<span class="token punctuation">,</span> url<span class="token punctuation">)</span>
<span class="token comment">// 4. 调用 XMLHttpRequest 对象的 send 方法,发送请求</span>
request<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span>
<span class="token comment">// 5. 为 XMLHttpRequset 对象添加 onreadystatechange 监听函数</span>
request<span class="token punctuation">.</span><span class="token function-variable function">onreadystatechange</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token comment">// 6. 判断响应是否完成：XMLHttpRequest 对象的 readyState 属性值为4的时候</span>
  <span class="token comment">// 7. 在判断响应是否可用：XMLHttpRequest 对象 status 属性值为 200 或者304</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span>readyState <span class="token operator">==</span> <span class="token number">4</span> <span class="token operator">&amp;&amp;</span> request<span class="token punctuation">.</span>status <span class="token operator">==</span> <span class="token number">200</span> <span class="token operator">||</span> request<span class="token punctuation">.</span>status <span class="token operator">==</span> <span class="token number">304</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		<span class="token comment">// 8. 打印输出结果 request</span>
    	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="jqyery-ajax-获取数据-框架"><a href="#jqyery-ajax-获取数据-框架" class="header-anchor">#</a> jQyery-ajax 获取数据(框架)</h2> <h3 id="返回结果替换元素文字"><a href="#返回结果替换元素文字" class="header-anchor">#</a> 返回结果替换元素文字</h3> <p><code>$dom.load(url);</code></p> <h3 id="get-函数"><a href="#get-函数" class="header-anchor">#</a> $.get()函数</h3> <p><code>$.get(url,data,success(response,status,xhr),dataType)</code></p> <h3 id="post-函数"><a href="#post-函数" class="header-anchor">#</a> $.post()函数</h3> <p><code>$.post(url,data,success(data, textStatus, jqXHR),dataType)</code></p> <h3 id="ajax-函数"><a href="#ajax-函数" class="header-anchor">#</a> $.ajax()函数</h3> <p><code>$.ajax({settings});</code></p> <table><thead><tr><th>参数</th> <th>类型</th> <th style="text-align:left;">属性</th></tr></thead> <tbody><tr><td><strong>url</strong></td> <td>String</td> <td style="text-align:left;">默认值: 当前页地址。发送请求的地址。</td></tr> <tr><td><strong>data</strong></td> <td>String</td> <td style="text-align:left;">发送到服务器的数据。将自动转换为请求字符串格式。GET 请求中将附加在 URL 后。查看 processData 选项说明以禁止此自动转换。必须为 Key/Value 格式。如果为数组，jQuery 将自动为不同值对应同一个名称。如 {foo:[&quot;bar1&quot;, &quot;bar2&quot;]} 转换为 '&amp;foo=bar1&amp;foo=bar2'。</td></tr> <tr><td><strong>success</strong></td> <td>Function</td> <td style="text-align:left;">请求成功后的回调函数。</td></tr> <tr><td><strong>dataType</strong></td> <td>String</td> <td style="text-align:left;">预期服务器返回的数据类型。如果不指定，jQuery 将自动根据 HTTP 包 MIME 信息来智能判断，比如 XML MIME 类型就被识别为 XML。在 1.4 中，JSON 就会生成一个 JavaScript 对象，而 script 则会执行这个脚本。随后服务器端返回的数据会根据这个值解析后，传递给回调函数。</td></tr> <tr><td><strong>type</strong></td> <td>String</td> <td style="text-align:left;">默认值: &quot;GET&quot;)。请求方式 (&quot;POST&quot; 或 &quot;GET&quot;)， 默认为 &quot;GET&quot;。注意：其它 HTTP 请求方法，如 PUT 和 DELETE 也可以使用，但仅部分浏览器支持。</td></tr> <tr><td><strong>timeout</strong></td> <td>Number</td> <td style="text-align:left;">设置请求超时时间（毫秒）。此设置将覆盖全局设置。</td></tr> <tr><td><strong>error</strong></td> <td>Function</td> <td style="text-align:left;">默认值: 自动判断 (xml 或 html)。请求失败时调用此函数。三个参数：XMLHttpRequest 对象、错误信息、（可选）捕获的异常对象。。</td></tr> <tr><td><strong>username</strong></td> <td>String</td> <td style="text-align:left;">用于响应 HTTP 访问认证请求的用户名。</td></tr> <tr><td><strong>password</strong></td> <td>String</td> <td style="text-align:left;">用于响应 HTTP 访问认证请求的密码</td></tr> <tr><td><strong>xhr</strong></td> <td>Function</td> <td style="text-align:left;">需要返回一个 XMLHttpRequest 对象。默认在 IE 下是 ActiveXObject 而其他情况下是 XMLHttpRequest 。用于重写或者提供一个增强的 XMLHttpRequest 对象。这个参数在 jQuery 1.3 以前不可用。</td></tr> <tr><td><strong>cache</strong></td> <td>Boolean</td> <td style="text-align:left;">默认值: true，dataType 为 script 和 jsonp 时默认为 false。设置为 false 将不缓存此页面。jQuery 1.2 新功能。</td></tr> <tr><td><strong>dataFilter</strong></td> <td>Function</td> <td style="text-align:left;">给 Ajax 返回的原始数据的进行预处理的函数。提供 data 和 type 两个参数：data 是 Ajax 返回的原始数据，type 是调用 jQuery.ajax 时提供的 dataType 参数。函数返回的值将由 jQuery 进一步处理</td></tr> <tr><td><strong>context</strong></td> <td>Object</td> <td style="text-align:left;">这个对象用于设置 Ajax 相关回调函数的上下文。也就是说，让回调函数内 this 指向这个对象（如果不设定这个参数，那么 this 就指向调用本次 AJAX 请求时传递的 options 参数）。比如指定一个 DOM 元素作为 context 参数，这样就设置了 success 回调函数的上下文为这个 DOM 元素。</td></tr> <tr><td><strong>jsonp</strong></td> <td>String</td> <td style="text-align:left;">在一个 jsonp 请求中重写回调函数的名字。这个值用来替代在 &quot;callback=?&quot; 这种 GET 或 POST 请求中 URL 参数里的 &quot;callback&quot; 部分，比如 {jsonp:'onJsonPLoad'} 会导致将 &quot;onJsonPLoad=?&quot; 传给服务器。</td></tr> <tr><td><strong>jsonpCallback</strong></td> <td>String</td> <td style="text-align:left;">为 jsonp 请求指定一个回调函数名。这个值将用来取代 jQuery 自动生成的随机函数名。这主要用来让 jQuery 生成度独特的函数名，这样管理请求更容易，也能方便地提供回调函数和错误处理。你也可以在想让浏览器缓存 GET 请求的时候，指定这个回调函数名。</td></tr> <tr><td><strong>contentType</strong></td> <td>String</td> <td style="text-align:left;">默认值: &quot;application/x-www-form-urlencoded&quot;。发送信息至服务器时内容编码类型。默认值适合大多数情况。如果你明确地传递了一个 content-type 给 $.ajax() 那么它必定会发送给服务器（即使没有数据要发送）。</td></tr> <tr><td><strong>processData</strong></td> <td>Boolean</td> <td style="text-align:left;">默认值: true。默认情况下，通过data选项传递进来的数据，如果是一个对象(技术上讲只要不是字符串)，都会处理转化成一个查询字符串，以配合默认内容类型 &quot;application/x-www-form-urlencoded&quot;。如果要发送 DOM 树信息或其它不希望转换的信息，请设置为 false。</td></tr> <tr><td><strong>scriptCharset</strong></td> <td>String</td> <td style="text-align:left;">只有当请求时 dataType 为 &quot;jsonp&quot; 或 &quot;script&quot;，并且 type 是 &quot;GET&quot; 才会用于强制修改 charset。通常只在本地和远程的内容编码不同时使用。</td></tr> <tr><td><strong>ifModified</strong></td> <td>Boolean</td> <td style="text-align:left;">仅在服务器数据改变时获取新数据。默认值: false。使用 HTTP 包 Last-Modified 头信息判断。在 jQuery 1.4 中，它也会检查服务器指定的 'etag' 来确定数据没有被修改过。</td></tr> <tr><td><strong>traditional</strong></td> <td>Boolean</td> <td style="text-align:left;">如果你想要用传统的方式来序列化数据，那么就设置为 true。请参考工具分类下面的 jQuery.param 方法。</td></tr> <tr><td><strong>async</strong></td> <td>Boolean</td> <td style="text-align:left;">默认值: true。默认设置下，所有请求均为异步请求。如果需要发送同步请求，请将此选项设置为 false。注意，同步请求将锁住浏览器，用户其它操作必须等待请求完成才可以执行。</td></tr> <tr><td><strong>complete(XHR, TS)</strong></td> <td>Function</td> <td style="text-align:left;">请求完成后回调函数 (请求成功或失败之后均调用)。参数： XMLHttpRequest 对象和一个描述请求类型的字符串。这是一个 Ajax 事件。</td></tr> <tr><td><strong>global</strong></td> <td>Boolean</td> <td style="text-align:left;">是否触发全局 AJAX 事件。默认值: true。设置为 false 将不会触发全局 AJAX 事件，如 ajaxStart 或 ajaxStop 可用于控制不同的 Ajax 事件。</td></tr> <tr><td><strong>beforeSend(XHR)</strong></td> <td>Function</td> <td style="text-align:left;">发送请求前可修改 XMLHttpRequest 对象的函数，如添加自定义 HTTP 头。XMLHttpRequest 对象是唯一的参数。这是一个 Ajax 事件。如果返回 false 可以取消本次 ajax 请求。</td></tr></tbody></table> <h2 id="axios-ajax-获取数据-框架"><a href="#axios-ajax-获取数据-框架" class="header-anchor">#</a> axios-ajax 获取数据(框架)</h2> <p>Axios 是一个基于 promise 的 HTTP 库，可以用在浏览器和 node.js 中。</p> <h3 id="执行-get-请求"><a href="#执行-get-请求" class="header-anchor">#</a> 执行 <code>GET</code> 请求</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 为给定 ID 的 user 创建请求</span>
axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/user?ID=12345'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 可选地，上面的请求可以这样做</span>
axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/user'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    params<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token constant">ID</span><span class="token operator">:</span> <span class="token number">12345</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="执行-post-请求"><a href="#执行-post-请求" class="header-anchor">#</a> 执行 <code>POST</code> 请求</h3> <div class="language-js extra-class"><pre class="language-js"><code>axios<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">'/user'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    firstName<span class="token operator">:</span> <span class="token string">'Fred'</span><span class="token punctuation">,</span>
    lastName<span class="token operator">:</span> <span class="token string">'Flintstone'</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="执行多个并发请求"><a href="#执行多个并发请求" class="header-anchor">#</a> 执行多个并发请求</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">getUserAccount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/user/12345'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">getUserPermissions</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/user/12345/permissions'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

axios<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token function">getUserAccount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">getUserPermissions</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>axios<span class="token punctuation">.</span><span class="token function">spread</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">acct<span class="token punctuation">,</span> perms</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 两个请求现在都执行完成</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="fetch-获取数据-原生"><a href="#fetch-获取数据-原生" class="header-anchor">#</a> fetch 获取数据(原生)</h2> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">'url'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token keyword">return</span> response<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
 <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">myJson</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>myJson<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></div></section> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev"><a href="/mao-blog/ruan-jian-kai-fa/qian-duan-bi-ji/09-html5-javascript-ying-yong.html" class="prev">
            HTML5 JavaScript 应用
          </a></span> <span class="next"><a href="/mao-blog/ruan-jian-kai-fa/qian-duan-bi-ji/11-npm--bao-guan-li-gong-ju.html">
            NPM  包管理工具
          </a></span></p></div> <div class="comments-wrapper"><!----></div> <ul class="side-bar sub-sidebar-wrapper" style="width:12rem;" data-v-70334359><li class="level-2" data-v-70334359><a href="/mao-blog/ruan-jian-kai-fa/qian-duan-bi-ji/10-ajax-yi-bu-shu-ju-chuan-shu.html#http-响应协议" class="sidebar-link reco-side-http-响应协议" data-v-70334359>HTTP 响应协议</a></li><li class="level-3" data-v-70334359><a href="/mao-blog/ruan-jian-kai-fa/qian-duan-bi-ji/10-ajax-yi-bu-shu-ju-chuan-shu.html#http-概念" class="sidebar-link reco-side-http-概念" data-v-70334359>HTTP 概念</a></li><li class="level-3" data-v-70334359><a href="/mao-blog/ruan-jian-kai-fa/qian-duan-bi-ji/10-ajax-yi-bu-shu-ju-chuan-shu.html#http-请求交互的基本过程" class="sidebar-link reco-side-http-请求交互的基本过程" data-v-70334359>HTTP 请求交互的基本过程</a></li><li class="level-3" data-v-70334359><a href="/mao-blog/ruan-jian-kai-fa/qian-duan-bi-ji/10-ajax-yi-bu-shu-ju-chuan-shu.html#http-请求报文" class="sidebar-link reco-side-http-请求报文" data-v-70334359>HTTP 请求报文</a></li><li class="level-3" data-v-70334359><a href="/mao-blog/ruan-jian-kai-fa/qian-duan-bi-ji/10-ajax-yi-bu-shu-ju-chuan-shu.html#http-响应报文" class="sidebar-link reco-side-http-响应报文" data-v-70334359>HTTP 响应报文</a></li><li class="level-3" data-v-70334359><a href="/mao-blog/ruan-jian-kai-fa/qian-duan-bi-ji/10-ajax-yi-bu-shu-ju-chuan-shu.html#post-请求体参数格式" class="sidebar-link reco-side-post-请求体参数格式" data-v-70334359>post 请求体参数格式</a></li><li class="level-3" data-v-70334359><a href="/mao-blog/ruan-jian-kai-fa/qian-duan-bi-ji/10-ajax-yi-bu-shu-ju-chuan-shu.html#常见的响应状态码" class="sidebar-link reco-side-常见的响应状态码" data-v-70334359>常见的响应状态码</a></li><li class="level-3" data-v-70334359><a href="/mao-blog/ruan-jian-kai-fa/qian-duan-bi-ji/10-ajax-yi-bu-shu-ju-chuan-shu.html#不同类型的请求及其作用" class="sidebar-link reco-side-不同类型的请求及其作用" data-v-70334359>不同类型的请求及其作用</a></li><li class="level-3" data-v-70334359><a href="/mao-blog/ruan-jian-kai-fa/qian-duan-bi-ji/10-ajax-yi-bu-shu-ju-chuan-shu.html#api-的分类" class="sidebar-link reco-side-api-的分类" data-v-70334359>API 的分类</a></li><li class="level-2" data-v-70334359><a href="/mao-blog/ruan-jian-kai-fa/qian-duan-bi-ji/10-ajax-yi-bu-shu-ju-chuan-shu.html#json-server" class="sidebar-link reco-side-json-server" data-v-70334359>json-server</a></li><li class="level-3" data-v-70334359><a href="/mao-blog/ruan-jian-kai-fa/qian-duan-bi-ji/10-ajax-yi-bu-shu-ju-chuan-shu.html#安装-json-server" class="sidebar-link reco-side-安装-json-server" data-v-70334359>安装 json-server</a></li><li class="level-3" data-v-70334359><a href="/mao-blog/ruan-jian-kai-fa/qian-duan-bi-ji/10-ajax-yi-bu-shu-ju-chuan-shu.html#启动-json-server" class="sidebar-link reco-side-启动-json-server" data-v-70334359>启动 json-server</a></li><li class="level-2" data-v-70334359><a href="/mao-blog/ruan-jian-kai-fa/qian-duan-bi-ji/10-ajax-yi-bu-shu-ju-chuan-shu.html#xmlhttprequest的概述" class="sidebar-link reco-side-xmlhttprequest的概述" data-v-70334359>XMLHttpRequest的概述</a></li><li class="level-3" data-v-70334359><a href="/mao-blog/ruan-jian-kai-fa/qian-duan-bi-ji/10-ajax-yi-bu-shu-ju-chuan-shu.html#ajax工作原理" class="sidebar-link reco-side-ajax工作原理" data-v-70334359>Ajax工作原理</a></li><li class="level-3" data-v-70334359><a href="/mao-blog/ruan-jian-kai-fa/qian-duan-bi-ji/10-ajax-yi-bu-shu-ju-chuan-shu.html#ajax的缺陷" class="sidebar-link reco-side-ajax的缺陷" data-v-70334359>Ajax的缺陷</a></li><li class="level-2" data-v-70334359><a href="/mao-blog/ruan-jian-kai-fa/qian-duan-bi-ji/10-ajax-yi-bu-shu-ju-chuan-shu.html#创建xmlhttprequest对象" class="sidebar-link reco-side-创建xmlhttprequest对象" data-v-70334359>创建XMLHttpRequest对象</a></li><li class="level-3" data-v-70334359><a href="/mao-blog/ruan-jian-kai-fa/qian-duan-bi-ji/10-ajax-yi-bu-shu-ju-chuan-shu.html#xmlhttprequest的方法" class="sidebar-link reco-side-xmlhttprequest的方法" data-v-70334359>XMLHttpRequest的方法</a></li><li class="level-3" data-v-70334359><a href="/mao-blog/ruan-jian-kai-fa/qian-duan-bi-ji/10-ajax-yi-bu-shu-ju-chuan-shu.html#xmlhttprequest的属性" class="sidebar-link reco-side-xmlhttprequest的属性" data-v-70334359>XMLHttpRequest的属性</a></li><li class="level-2" data-v-70334359><a href="/mao-blog/ruan-jian-kai-fa/qian-duan-bi-ji/10-ajax-yi-bu-shu-ju-chuan-shu.html#发送请求" class="sidebar-link reco-side-发送请求" data-v-70334359>发送请求</a></li><li class="level-3" data-v-70334359><a href="/mao-blog/ruan-jian-kai-fa/qian-duan-bi-ji/10-ajax-yi-bu-shu-ju-chuan-shu.html#open-method-url-asynch" class="sidebar-link reco-side-open-method-url-asynch" data-v-70334359>open(method, url, asynch)</a></li><li class="level-3" data-v-70334359><a href="/mao-blog/ruan-jian-kai-fa/qian-duan-bi-ji/10-ajax-yi-bu-shu-ju-chuan-shu.html#send-data" class="sidebar-link reco-side-send-data" data-v-70334359>send(data)</a></li><li class="level-3" data-v-70334359><a href="/mao-blog/ruan-jian-kai-fa/qian-duan-bi-ji/10-ajax-yi-bu-shu-ju-chuan-shu.html#onreadystatechange" class="sidebar-link reco-side-onreadystatechange" data-v-70334359>onreadystatechange</a></li><li class="level-2" data-v-70334359><a href="/mao-blog/ruan-jian-kai-fa/qian-duan-bi-ji/10-ajax-yi-bu-shu-ju-chuan-shu.html#接收响应" class="sidebar-link reco-side-接收响应" data-v-70334359>接收响应</a></li><li class="level-3" data-v-70334359><a href="/mao-blog/ruan-jian-kai-fa/qian-duan-bi-ji/10-ajax-yi-bu-shu-ju-chuan-shu.html#readystate" class="sidebar-link reco-side-readystate" data-v-70334359>readyState</a></li><li class="level-3" data-v-70334359><a href="/mao-blog/ruan-jian-kai-fa/qian-duan-bi-ji/10-ajax-yi-bu-shu-ju-chuan-shu.html#status" class="sidebar-link reco-side-status" data-v-70334359>status</a></li><li class="level-3" data-v-70334359><a href="/mao-blog/ruan-jian-kai-fa/qian-duan-bi-ji/10-ajax-yi-bu-shu-ju-chuan-shu.html#responsetext" class="sidebar-link reco-side-responsetext" data-v-70334359>responseText</a></li><li class="level-3" data-v-70334359><a href="/mao-blog/ruan-jian-kai-fa/qian-duan-bi-ji/10-ajax-yi-bu-shu-ju-chuan-shu.html#responsexml" class="sidebar-link reco-side-responsexml" data-v-70334359>responseXML</a></li><li class="level-2" data-v-70334359><a href="/mao-blog/ruan-jian-kai-fa/qian-duan-bi-ji/10-ajax-yi-bu-shu-ju-chuan-shu.html#数据格式提要" class="sidebar-link reco-side-数据格式提要" data-v-70334359>数据格式提要</a></li><li class="level-3" data-v-70334359><a href="/mao-blog/ruan-jian-kai-fa/qian-duan-bi-ji/10-ajax-yi-bu-shu-ju-chuan-shu.html#xml" class="sidebar-link reco-side-xml" data-v-70334359>XML</a></li><li class="level-3" data-v-70334359><a href="/mao-blog/ruan-jian-kai-fa/qian-duan-bi-ji/10-ajax-yi-bu-shu-ju-chuan-shu.html#json" class="sidebar-link reco-side-json" data-v-70334359>JSON</a></li><li class="level-3" data-v-70334359><a href="/mao-blog/ruan-jian-kai-fa/qian-duan-bi-ji/10-ajax-yi-bu-shu-ju-chuan-shu.html#html" class="sidebar-link reco-side-html" data-v-70334359>HTML</a></li><li class="level-3" data-v-70334359><a href="/mao-blog/ruan-jian-kai-fa/qian-duan-bi-ji/10-ajax-yi-bu-shu-ju-chuan-shu.html#对比小结" class="sidebar-link reco-side-对比小结" data-v-70334359>对比小结</a></li><li class="level-2" data-v-70334359><a href="/mao-blog/ruan-jian-kai-fa/qian-duan-bi-ji/10-ajax-yi-bu-shu-ju-chuan-shu.html#原生ajax请求流程" class="sidebar-link reco-side-原生ajax请求流程" data-v-70334359>原生Ajax请求流程</a></li><li class="level-3" data-v-70334359><a href="/mao-blog/ruan-jian-kai-fa/qian-duan-bi-ji/10-ajax-yi-bu-shu-ju-chuan-shu.html#封装兼容其他浏览器-gethttpobject-对象" class="sidebar-link reco-side-封装兼容其他浏览器-gethttpobject-对象" data-v-70334359>封装兼容其他浏览器  getHTTPObject 对象</a></li><li class="level-3" data-v-70334359><a href="/mao-blog/ruan-jian-kai-fa/qian-duan-bi-ji/10-ajax-yi-bu-shu-ju-chuan-shu.html#原生-ajax-发送请求流程" class="sidebar-link reco-side-原生-ajax-发送请求流程" data-v-70334359>原生 Ajax  发送请求流程</a></li><li class="level-2" data-v-70334359><a href="/mao-blog/ruan-jian-kai-fa/qian-duan-bi-ji/10-ajax-yi-bu-shu-ju-chuan-shu.html#jqyery-ajax-获取数据-框架" class="sidebar-link reco-side-jqyery-ajax-获取数据-框架" data-v-70334359>jQyery-ajax 获取数据(框架)</a></li><li class="level-3" data-v-70334359><a href="/mao-blog/ruan-jian-kai-fa/qian-duan-bi-ji/10-ajax-yi-bu-shu-ju-chuan-shu.html#返回结果替换元素文字" class="sidebar-link reco-side-返回结果替换元素文字" data-v-70334359>返回结果替换元素文字</a></li><li class="level-3" data-v-70334359><a href="/mao-blog/ruan-jian-kai-fa/qian-duan-bi-ji/10-ajax-yi-bu-shu-ju-chuan-shu.html#get-函数" class="sidebar-link reco-side-get-函数" data-v-70334359>$.get()函数</a></li><li class="level-3" data-v-70334359><a href="/mao-blog/ruan-jian-kai-fa/qian-duan-bi-ji/10-ajax-yi-bu-shu-ju-chuan-shu.html#post-函数" class="sidebar-link reco-side-post-函数" data-v-70334359>$.post()函数</a></li><li class="level-3" data-v-70334359><a href="/mao-blog/ruan-jian-kai-fa/qian-duan-bi-ji/10-ajax-yi-bu-shu-ju-chuan-shu.html#ajax-函数" class="sidebar-link reco-side-ajax-函数" data-v-70334359>$.ajax()函数</a></li><li class="level-2" data-v-70334359><a href="/mao-blog/ruan-jian-kai-fa/qian-duan-bi-ji/10-ajax-yi-bu-shu-ju-chuan-shu.html#axios-ajax-获取数据-框架" class="sidebar-link reco-side-axios-ajax-获取数据-框架" data-v-70334359>axios-ajax 获取数据(框架)</a></li><li class="level-3" data-v-70334359><a href="/mao-blog/ruan-jian-kai-fa/qian-duan-bi-ji/10-ajax-yi-bu-shu-ju-chuan-shu.html#执行-get-请求" class="sidebar-link reco-side-执行-get-请求" data-v-70334359>执行 GET 请求</a></li><li class="level-3" data-v-70334359><a href="/mao-blog/ruan-jian-kai-fa/qian-duan-bi-ji/10-ajax-yi-bu-shu-ju-chuan-shu.html#执行-post-请求" class="sidebar-link reco-side-执行-post-请求" data-v-70334359>执行 POST 请求</a></li><li class="level-3" data-v-70334359><a href="/mao-blog/ruan-jian-kai-fa/qian-duan-bi-ji/10-ajax-yi-bu-shu-ju-chuan-shu.html#执行多个并发请求" class="sidebar-link reco-side-执行多个并发请求" data-v-70334359>执行多个并发请求</a></li><li class="level-2" data-v-70334359><a href="/mao-blog/ruan-jian-kai-fa/qian-duan-bi-ji/10-ajax-yi-bu-shu-ju-chuan-shu.html#fetch-获取数据-原生" class="sidebar-link reco-side-fetch-获取数据-原生" data-v-70334359>fetch 获取数据(原生)</a></li></ul></main> <!----></div></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-c6073ba8 data-v-c6073ba8><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-c6073ba8><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-c6073ba8></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-c6073ba8></path></svg></div><APlayer audio="" fixed="true" mini="true" autoplay="autoplay" theme="#b7daff" loop="loop" order="random" preload="auto" volume="0.15" mutex="true" lrc-type="0" list-max-height="250" storage-name="vuepress-plugin-meting" id="aplayer-fixed"></APlayer><div></div><div id="live2d-widget" class="live2d-widget-container" style="position:fixed;right:65px;bottom:-55px;width:135px;height:300px;z-index:99999;opacity:0.8;pointer-events:none;"><canvas id="live2d_canvas" width="135" height="300" class="live2d_canvas" style="position:absolute;left:0px;top:0px;width:135px;height:300px;"></canvas></div></div></div>
    <script src="/mao-blog/assets/js/app.19e1b50c.js" defer></script><script src="/mao-blog/assets/js/4.512e8a4d.js" defer></script><script src="/mao-blog/assets/js/1.6b005ada.js" defer></script><script src="/mao-blog/assets/js/16.177fc3f8.js" defer></script>
  </body>
</html>
