(window.webpackJsonp=window.webpackJsonp||[]).push([[72],{720:function(t,s,a){"use strict";a.r(s);var n=a(5),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"查询操作符"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查询操作符"}},[t._v("#")]),t._v(" 查询操作符")]),t._v(" "),a("h3",{attrs:{id:"比较查询操作符"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#比较查询操作符"}},[t._v("#")]),t._v(" 比较查询操作符")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// $eq__匹配等于指定的值, 相当于 ==30")]),t._v("\ndb"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("t_01"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("find")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"name"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" $eq"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"david"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// $gt__匹配大于指定的值, 相当于 >30")]),t._v("\ndb"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("t_01"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("find")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"age"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" $gt"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("30")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// $gte__匹配大于或等于指定的值, 相当于 >=30")]),t._v("\ndb"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("t_01"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("find")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"age"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" $gte"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("30")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// $in__匹配数组中的任意一个值, 相当于 40<= >=30")]),t._v("\ndb"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("t_01"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("find")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"age"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" $"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("30")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("40")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// $lt__匹配小于指定的值, 相当于 <30")]),t._v("\ndb"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("t_01"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("find")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"age"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" $lt"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("30")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// $lte__匹配小于等于指定的值, 相当于 <=30")]),t._v("\ndb"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("t_01"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("find")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"age"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" $lte"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("30")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// $ne__匹配不等于指定值的所有值, 相当于 !==30")]),t._v("\ndb"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("t_01"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("find")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"age"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" $ne"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("30")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// $nin__匹配不在数组中出现的值, 相当于 >30 <40")]),t._v("\ndb"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("t_01"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("find")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"age"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" $nin"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("30")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("40")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h3",{attrs:{id:"逻辑查询操作符"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#逻辑查询操作符"}},[t._v("#")]),t._v(" 逻辑查询操作符")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// $and__逻辑和, 操作需要同时满足具有两个或多个表达式的数组中的条件, 相当于 age >= 28 && deparment == sale_01")]),t._v("\ndb"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("t_01"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("find")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("  \n    $and "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"age"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" $gte "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("28")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"deparment"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" $eq "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"sale_01"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("  \n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// $not__逻辑否, 操作返回与查询表达式不匹配的文档, 相当于 !(age > 30)")]),t._v("\ndb"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("t_01"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("find")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" \n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"age"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("$not "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" $gt "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("30")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// $nor__逻辑非或操作，返回同时不能匹配数组中表达式的文档, 相当于 !(age==30) && !(name="devid")')]),t._v("\ndb"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("t_01"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("find")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" \n    $nor"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"age"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("30")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"name"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"david"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// $or__逻辑或操作，返回符合任一条件的所有文档, 相当于 age==30 || name="devid"')]),t._v("\ndb"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("t_01"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("find")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    $or"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"age"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("30")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"name"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"david"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("table",[a("thead",[a("tr",[a("th",[t._v("操作符")]),t._v(" "),a("th",[t._v("描述")]),t._v(" "),a("th",[t._v("举例")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[a("strong",[t._v("$and")])]),t._v(" "),a("td",[t._v("逻辑和操作需要同时满足具有两个或多个表达式的数组中的条件。")]),t._v(" "),a("td",[t._v("db.t_01.find( {  $and : [ {“age”:{ $gte : 28 } }, { “deparment” : { $eq : “sale_01”} } ]  } )")])]),t._v(" "),a("tr",[a("td",[a("strong",[t._v("$not")])]),t._v(" "),a("td",[t._v("逻辑否操作返回与查询表达式不匹配的文档")]),t._v(" "),a("td",[t._v("db.t_01.find( { “age”  : { $not : { $gt : 30 } } } )")])]),t._v(" "),a("tr",[a("td",[a("strong",[t._v("$nor")])]),t._v(" "),a("td",[t._v("逻辑非或操作，返回同时不能匹配数组中表达式的文档")]),t._v(" "),a("td",[t._v("db.t_01.find( { $nor:  [ {“age”:30 } , { “name”:”david”} ] } )")])]),t._v(" "),a("tr",[a("td",[a("strong",[t._v("$or")])]),t._v(" "),a("td",[t._v("逻辑或操作，返回符合任一条件的所有文档")]),t._v(" "),a("td",[t._v("db.t_01.find( {  $or : [ { “deparm")])])])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("db"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("t_01"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("find")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("  \n    $and "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("“age”"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" $gte "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("28")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" “deparment” "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" $eq "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" “sale_01”"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h3",{attrs:{id:"元素查询操作符"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#元素查询操作符"}},[t._v("#")]),t._v(" 元素查询操作符")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("操作符")]),t._v(" "),a("th",[t._v("描述")]),t._v(" "),a("th",[t._v("举例")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[a("strong",[t._v("$exists")])]),t._v(" "),a("td",[t._v("匹配具有指定字段的文档")]),t._v(" "),a("td",[t._v("db.t_01.find( { “name”:{  $exists:true,$in: [“david”,”grut”] } } )")])]),t._v(" "),a("tr",[a("td",[a("strong",[t._v("$type")])]),t._v(" "),a("td",[t._v("如果字段为指定类型，则返回文档")]),t._v(" "),a("td",[t._v("db.t_01.find( {“name”  : {$type : “string” } } )")])])])]),t._v(" "),a("h3",{attrs:{id:"数组查询操作符"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#数组查询操作符"}},[t._v("#")]),t._v(" 数组查询操作符")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("操作符")]),t._v(" "),a("th",[t._v("描述")]),t._v(" "),a("th",[t._v("举例")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[a("strong",[t._v("$all")])]),t._v(" "),a("td",[t._v("匹配包含查询中指定的所有元素的数组")]),t._v(" "),a("td",[t._v("--查询t_01集合的name字段同时包含”deng”,”groot”,”lily”的文档db.t_01.find( {“name”:{$all: [“deng”,”groot”,”lily”]} } )")])]),t._v(" "),a("tr",[a("td",[a("strong",[t._v("$elemMatch")])]),t._v(" "),a("td",[t._v("返回数组字段中至少有一个元素与所有指定的元素匹配的文档")]),t._v(" "),a("td",[t._v("--查询students集合中的scores数组字段中，至少有一个大于或等于80且小于90的元素的文档db.students.find({  scores: {$elemMatch:  {$gte:80, $lt: 90}} } )")])]),t._v(" "),a("tr",[a("td",[a("strong",[t._v("$size")])]),t._v(" "),a("td",[t._v("返回具有与指定大小一样的数组字段的文档")]),t._v(" "),a("td",[t._v("--查询students集合中scores数组字段中具有2个元素的文档。db.students.find({scores : { $size  : 2} } )")])])])]),t._v(" "),a("h3",{attrs:{id:"诊断操作符"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#诊断操作符"}},[t._v("#")]),t._v(" 诊断操作符")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("操作符")]),t._v(" "),a("th",[t._v("描述")]),t._v(" "),a("th",[t._v("举例")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[a("strong",[t._v("$expr")])]),t._v(" "),a("td",[t._v("允许在查询语句中使用聚合表达式，$expr可以构建查询表达式，在匹配时，比较同一文档中的字段。")]),t._v(" "),a("td",[t._v("--两个字段比较，返回”sal”比”age”大的文档：db.t_01.find(  {$expr: { $gt: [“age”,”sal”] } } )")])]),t._v(" "),a("tr",[a("td",[a("strong",[t._v("$jsonSchema")])]),t._v(" "),a("td",[t._v("$jsonSchema可以被用于文档验证器，用于集合模式验证。")]),t._v(" "),a("td",[t._v("--定义一个users集合模式验证：db.createCollection(“users”,  {validator: { $jsonSchema: {bsonType: “object”,required: [“name”,”sex”],properties: { name: {  bsonType: “string”,  description: “must be a  string and is required”},age: {bsonType: “int”,description: “must be a integer and is not  required”},sex: {enum: [“male” , “female”],description: “can only be one of the enum  values and is required”}}} } )--往集合users插入数据db.users.insert({“name”:”gg”,”sex”:”male”})")])]),t._v(" "),a("tr",[a("td",[a("strong",[t._v("$mod")])]),t._v(" "),a("td",[t._v("对字段的值执行除以指定值取余数运算。")]),t._v(" "),a("td",[t._v("--返回”age”字段值被3整除的文档db.t_01.find( {“age”  : {$mod : [3,0] } } )")])]),t._v(" "),a("tr",[a("td",[a("strong",[t._v("$regex")])]),t._v(" "),a("td",[t._v("选择与指定正则表达式匹配的文档")]),t._v(" "),a("td",[t._v("查询”name”结尾是tor三个字符的文档db.t_01.find( {“name”:  {$regex : /tor$/ } } )")])]),t._v(" "),a("tr",[a("td",[a("strong",[t._v("$text")])]),t._v(" "),a("td",[t._v("$text是对具有文本索引的字段执行文本搜索。")]),t._v(" "),a("td",[t._v("--在t_01集合的”name”上创建text索引db.t_01.createIndex(  { “name” : “text”})--使用全本搜索db.t_01.find(  {$text: {$search: “david” } } )")])]),t._v(" "),a("tr",[a("td",[a("strong",[t._v("$where")])]),t._v(" "),a("td",[t._v("匹配满足JavaScript表达式的文档，使用$where操作符将包含JavaScript表达式的字符串或完整的JavaScript函数传递给查询系统。")]),t._v(" "),a("td",[t._v("--查询”name”字段为david的文档db.t_01.find( {  $where : function() {return  (this.name == “david”)} } )")])])])]),t._v(" "),a("h3",{attrs:{id:"按位查询操作符"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#按位查询操作符"}},[t._v("#")]),t._v(" 按位查询操作符")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("操作符")]),t._v(" "),a("th",[t._v("描述")]),t._v(" "),a("th",[t._v("举例")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[a("strong",[t._v("$bitsAllClear")])]),t._v(" "),a("td",[t._v("匹配数字或二进制值，其中查询给出的所有位位置在字段中是明确的（即0）。")]),t._v(" "),a("td",[t._v("--查询字段age是否在位置1和位置5有位清除。db.t_01.find({“age”: {  $bitsAllClear:[1,5]} } )")])]),t._v(" "),a("tr",[a("td",[a("strong",[t._v("$bitsAllSet")])]),t._v(" "),a("td",[t._v("匹配数字或二进制值，其中查询给出的所有位位置在字段中是明确的（即1）。")]),t._v(" "),a("td",[t._v("--查询字段age是否具有在位置1和位置5设置的位1。db.t_01.find({“age”: {  $bitsAllSet:[1,5]} } )")])]),t._v(" "),a("tr",[a("td",[a("strong",[t._v("$bitsAnyClear")])]),t._v(" "),a("td",[t._v("匹配数字或二进制值，返回其中一组位位置中的任何位具有0的文档")]),t._v(" "),a("td",[t._v("--查询字段age在位置1或位置5具有位清除的文档。db.t_01.find({“age”: { $bitsAnyClear:[1,5]} } )")])]),t._v(" "),a("tr",[a("td",[a("strong",[t._v("$bitsAnySet")])]),t._v(" "),a("td",[t._v("匹配数字或二进制值，返回其中一组位位置中的任何位具有1的文档")]),t._v(" "),a("td",[t._v("--查询字段age在位置1或位置5为1的文档。db.t_01.find({“age”: {  $bitsAnySet:[1,5]} } )")])])])]),t._v(" "),a("h2",{attrs:{id:"更新操作符"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#更新操作符"}},[t._v("#")]),t._v(" 更新操作符")]),t._v(" "),a("h3",{attrs:{id:"multi修改为修改多个"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#multi修改为修改多个"}},[t._v("#")]),t._v(" multi\t修改为修改多个")]),t._v(" "),a("p",[t._v("update默认情况只会修改一个,但可以修改为修改多个\ndb.collection.update({ name:'猪八戒'},{$unset:{address: '哈哈哈'},{multi:true}});")]),t._v(" "),a("h3",{attrs:{id:"currentdate将属性的值设置为当前日期"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#currentdate将属性的值设置为当前日期"}},[t._v("#")]),t._v(" $currentDate\t将属性的值设置为当前日期")]),t._v(" "),a("p",[t._v("可以是"),a("code",[t._v("Date")]),t._v("或"),a("code",[t._v("timestamp")]),t._v("，默认类型是"),a("code",[t._v("Date")]),t._v("。如果设置的字段不存在，"),a("code",[t._v("$currentDate")]),t._v("会在文档中添加该字段。格式如："),a("code",[t._v("{$currentDate:{字段名:时间类型,...}}")]),t._v("。")]),t._v(" "),a("ul",[a("li",[t._v("布尔值"),a("code",[t._v("true")]),t._v("表示将字段值设置为当前日期作为"),a("code",[t._v("Date")]),t._v("；")]),t._v(" "),a("li",[a("code",[t._v('{$type:"timestamp"}')]),t._v("或"),a("code",[t._v('{$type:"date"}')]),t._v("，它明确指定了类型。操作符区分大小写，仅接受小写的"),a("code",[t._v('"timestamp"')]),t._v("或者小写的"),a("code",[t._v('"date"')]),t._v("。")])]),t._v(" "),a("p",[t._v("例如，将下面"),a("code",[t._v("products")]),t._v("表中"),a("code",[t._v("_id")]),t._v("字段为"),a("code",[t._v("1")]),t._v("的文档中的"),a("code",[t._v("lastModified")]),t._v("字段更新成当前的日期。")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[t._v("db"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("products"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("update")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("_id"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" $currentDate"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("lastModified"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h3",{attrs:{id:"inc将指定属性的值加上指定的值"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#inc将指定属性的值加上指定的值"}},[t._v("#")]),t._v(" $inc\t将指定属性的值加上指定的值")]),t._v(" "),a("p",[t._v("格式如下："),a("code",[t._v("{$inc:{字段1:数量1,...}}")]),t._v("。数量既可以是正数，也可以是负数。如果要增加的字段不存在，那么"),a("code",[t._v("$inc")]),t._v("会生成一个字段，并且将该值设置为特定的值。但是如果你上传了一个空值，那么就会出现错误。对于单个文档，"),a("code",[t._v("$inc")]),t._v("是原子操作。\n例如，将"),a("code",[t._v("products")]),t._v("表中"),a("code",[t._v("_id")]),t._v("字段为"),a("code",[t._v("1")]),t._v("的文档中的"),a("code",[t._v("num")]),t._v("字段值增加"),a("code",[t._v("10")]),t._v("，脚本如下：")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[t._v("db"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("products"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("update")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("_id"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("$inc"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("num"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h3",{attrs:{id:"min更新文档中某个字段值小于特点值的字段"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#min更新文档中某个字段值小于特点值的字段"}},[t._v("#")]),t._v(" $min\t更新文档中某个字段值小于特点值的字段")]),t._v(" "),a("p",[t._v("格式如下："),a("code",[t._v("{$min:{字段1:值1,...}}")]),t._v("。如果字段不存在，"),a("code",[t._v("$min")]),t._v("操作符会设置字段为特定的值。\n例如，判断"),a("code",[t._v("products")]),t._v("表中"),a("code",[t._v("_id")]),t._v("字段为"),a("code",[t._v("1")]),t._v("的文档中的"),a("code",[t._v("num")]),t._v("字段值，如果大于"),a("code",[t._v("10")]),t._v("，那么值会变为"),a("code",[t._v("10")]),t._v("，如果小于"),a("code",[t._v("10")]),t._v("，则不会有变化。")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[t._v("db"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("products"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("update")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("_id"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("$min"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("num"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h3",{attrs:{id:"max更新文档中某个字段值大于特点值的字段"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#max更新文档中某个字段值大于特点值的字段"}},[t._v("#")]),t._v(" $max\t更新文档中某个字段值大于特点值的字段")]),t._v(" "),a("p",[a("code",[t._v("$max")]),t._v("操作符和"),a("code",[t._v("$min")]),t._v("正好相反，它会更新文档中某个字段值大于特定值的字段。用法和"),a("code",[t._v("$min")]),t._v("相同。")]),t._v(" "),a("h3",{attrs:{id:"set将字段的值替换为指定的值"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#set将字段的值替换为指定的值"}},[t._v("#")]),t._v(" $set\t将字段的值替换为指定的值")]),t._v(" "),a("p",[t._v("它具有以下形式："),a("code",[t._v("{$set:{字段1:值1,...}}")]),t._v("。如果字段不存在，"),a("code",[t._v("$set")]),t._v("将会创建新字段(前提是该字段不能和类型限制相冲突)，将指定的值赋上。如果指定多个字段-值对，"),a("code",[t._v("$set")]),t._v("将更新或创建每个字段。\n例如，将"),a("code",[t._v("products")]),t._v("表中"),a("code",[t._v("_id")]),t._v("字段为"),a("code",[t._v("1")]),t._v("的文档中的"),a("code",[t._v("quantity")]),t._v("字段值变为"),a("code",[t._v("500")]),t._v("，将字段"),a("code",[t._v("details")]),t._v("字段中的"),a("code",[t._v("model")]),t._v("字段值变为"),a("code",[t._v("14Q3")]),t._v("，"),a("code",[t._v("tag")]),t._v("字段的值也同时更新。")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[t._v("db"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("products"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("update")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n   "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" _id"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n   "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" $set"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n              quantity"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("500")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n              details"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" model"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"14Q3"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" make"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"xyz"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n              tags"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"coats"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"outerwear"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"clothing"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n           "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n   "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h3",{attrs:{id:"unset删除表中特定的字段"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#unset删除表中特定的字段"}},[t._v("#")]),t._v(" $unset\t删除表中特定的字段")]),t._v(" "),a("p",[t._v("语法如下:"),a("code",[t._v('{$unset:{字段1:"",...}}')]),t._v("。如果要删除的字段不存在，那么"),a("code",[t._v("$unset")]),t._v("不会做任何操作。\n例如：使用"),a("code",[t._v("$unset")]),t._v("操作符来移除"),a("code",[t._v("products")]),t._v("表中，"),a("code",[t._v("_id")]),t._v("字段值为"),a("code",[t._v("1")]),t._v("的文档中的"),a("code",[t._v("quantity")]),t._v("字段。")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[t._v("db"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("products"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("update")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" _id"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" $unset"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"quantity"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h3",{attrs:{id:"rename更新某一字段的名字"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#rename更新某一字段的名字"}},[t._v("#")]),t._v(" $rename\t更新某一字段的名字")]),t._v(" "),a("p",[t._v("语法如下："),a("code",[t._v("{$rename:{字段名1:新的字段名1,...}}")]),t._v("。新的字段名必须和现有的字段名不相同，如果文档中不存在要重命名的字段，那么"),a("code",[t._v("$rename")]),t._v("将不会做任何操作。其逻辑是在就的字段名上执行"),a("code",[t._v("$unset")]),t._v("操作，然后使用新的名称执行"),a("code",[t._v("$set")]),t._v("操作。\n例如：使用"),a("code",[t._v("$rename")]),t._v("重命名"),a("code",[t._v("products")]),t._v("表中"),a("code",[t._v("_id")]),t._v("字段值为"),a("code",[t._v("1")]),t._v("的文档中的"),a("code",[t._v("username")]),t._v("字段名为"),a("code",[t._v("userName")]),t._v("。")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[t._v("db"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("products"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("update")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" _id"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" $rename"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"username"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"userName"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h2",{attrs:{id:"聚合函数使用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#聚合函数使用"}},[t._v("#")]),t._v(" 聚合函数使用")]),t._v(" "),a("p",[t._v("语法："),a("code",[t._v('db.products.aggregate([$group:{_id:null, $聚合函数: "$字段名"}])')])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("db"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("products"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("aggregate")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    $group"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("_id"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" alias"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("$max"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"$index"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("​    1、$sum分组求和")]),t._v(" "),a("p",[t._v("​    2、$avg分组平均值")]),t._v(" "),a("p",[t._v("​    3、$min分组最小值")]),t._v(" "),a("p",[t._v("​    4、$max分组最大值")]),t._v(" "),a("p",[t._v("​    5、$first分组第一条记录")]),t._v(" "),a("p",[t._v("​    6、$last分组最后一条记录")])])}),[],!1,null,null,null);s.default=e.exports}}]);