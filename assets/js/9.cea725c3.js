(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{647:function(t,s){t.exports="data:image/jpeg;base64,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Ysqm7KNUD++riEGtb7fcckv3xz/+sfvgBz+42t7qcSwt10uO2nGo9mJS6ttQfqihahTv27ok+d///tfddNNN3SWXXNK9+c1vXm2ThhqqPEvo4X0VMRjrG+rx0Ucf7X73u99173nPe1bbpKGGahq141DtxaTUt6H82IE3p8TevXuVRAFJkwgepp4eOnSo+8Mf/tB97nOf6173utet1lsXV1xxBW0/JTCu3PJWo1QP1WNMhurxiSee6O6///7u6quv7t761reu1lsX3/nOd2j7lmLJ+UO1F5Oh2isNXaFqFO8bznqvu+66vok69dRTV++NCV2hylOyD1x5+O9//9u9+OKL3fPPP98999xz3bPPPtvddddd3dNPP9099dRT/f7w5fr44493jz32WO/ZI4880j300EPdgw8+2B08eLC78cYbV76oHuPg6xH5AM937drVvelNb1q9NyZ0hWoatePwHooYlPo2lB9qqBol9e2Tn/xkd9JJJ61elwbOms8777zuIx/5SP84JXAvSG55Sawbx7nnntt99KMf7d//0Ic+1B/rnHPO6d7//vd3Z599dve+972v/xnl3e9+d3+PGOId73hH9/a3v71729ve1r3lLW/pf/bEF9wZZ5zRvfGNb+ze8IY39FfxTj/99O60007rm9FTTjmlO/nkk3tNX/3qV3evetWruhNPPLF75Stf2Z1wwgndK17xiu7444/vXv7yl3fHHXdcVtM5QvUYh7Qev//973evf/3rycuS+PjHP9599atfHR1f+tKXsstLomQfuAfzG9/4RnfppZd23/zmN7tvf/vb3Xe/+93++ZVXXtn96Ec/6m+s/8lPftJdddVV3c9//vPul7/8Zd9c/uY3v+l/7sQV9D/96U/dX/7yl+7vf/97d8MNN/QnE3h/z549/b2euNqAP5zZv39/d++99/ZX+Q4cONCffOBEBFficYKCxvWZZ55ZBU5QDh8+vDZwopMLHMc8UO3FIa29Mb6poRJbSH372Mc+1n/Z22vFsRGqxzik9aiIH6q9OKS1N8Y3NVRiC943nLXhTPFTn/pUf1XF3hsTn/nMZ7qf/vSn/U8NeJwSuP8jt7wk1o0DZ7s/+9nP+jNeBO5J+cUvftFdc801/Rnwr371qz5wJoz1fv3rX/dnvL/97W/7s2L8STrOjPFXVYhrr722P0vGT6V//vOf+7Plv/71r93f/va3/qwZ615//fX92fPu3bu7f/zjH/1ZNG7yR/zzn//sbr755v4vtXBWfeutt/Zn1ojbb7+9D+z/jjvu6M+08fPfvn37+jNhxN13393dc889/dn3fffd15+B4zjmi+oxDmk9wkvUI6562rKSwJVUXIkdG7ham1teEiX7wLq4Kvze9763e+c739lfBcaYcbUXV+Ze+9rXdq95zWv6K7s40cPV3KN5JfdohGovDv67cDvUUIkteN9Sb3H5Gs0DGiX8dGXrrQvdQ5VnCT28ryIG63zD/XT4meqiiy5avb9dHMv3UOHeMgvcc5gG7j/EyQUeX3jhhVVAQwvcm5hG+pOd/aSHn/zSnwBxD6MFfh5M48knn1yFbkqPSemcOZSnaqgaxfu2LkkwCeHqy+c///n+HiHbJg01VHmW0MP7KmIwxjc0AHjv4osvXq2bi2O5odqOOXK+dhxjPBSbR6lvQ/mhhqpRvG9jJhGc+eHnqy9+8Yv95XnbXg1VniX08L6KGJT6huYKV2O+8IUv9H/kYNsi1FBNo3Ycqr2YlPo2lB9qqBrF+1Y6ieCSO+7/+fKXv6yGag1L6OF9FTGo9Q3r4ioy7qn72te+1t93pIZqGrXjqPVQLEupb0P5oYaqUbxvmhCZqHp4X0UMan3z6+KeIdwDVELL9ZKjdhy1HoplKfVtKD9mbajwV0l4rdj8gFdpEmlCZKLqgfVVj/HC1+NYStZdR8v1kqN2HDi2ai9elNbeUH7M2lApYgY81ITIRNVD9Rg/SjxXvTBL6qHaix9j8mcoPyY3VODMM8/MDk6x+QHvgCZEJrIeqse4YfU4FtULs7Qeqr24Mbb2hvJjloYKIJHHBP7hwdzyksC/95FbXhKbso+l9TA0ITLR9Ug9Vr1wbLIepdRs41G9MFPHgTGoXjgi6DGWofyYraEaS8nA17EpxSs9GOnBSA9GejDSg5EejPRgIuihhmoC0oORHoz0YKQHIz0Y6cFIDyaCHmqoJiA9GOnBSA9GejDSg5EejPRgIuixAwcYG9hRbvlLHXOMY1P2MUdIDw7pwSE9OKQHh/TgkB4c0oNjaBy6QjUB6cFID0Z6MNKDkR6M9GCkBxNBDzVUE5AejPRgpAcjPRjpwUgPRnowEfRQQzUB6cFID0Z6MNKDkR6M9GCkBxNBDzVUE5AejPRgpAcjPRjpwUgPRnowEfRQQzUB6cFID0Z6MNKDkR6M9GCkBxNBDzVUE5AejPRgpAcjPRjpwUgPRnowEfRQQzUB6cFID0Z6MNKDkR6M9GCkBxNBDzVUE5AejPRgpAcjPRjpwUgPRnowEfRQQzUB6cFID0Z6MNKDkR6M9GCkBxNBDzVUE5AejPRgpAcjPRjpwUgPRnowEfRQQzUB6cFID0Z6MNKDkR6M9GCkBxNBDzVUE5AejPRgpAcjPRjpwUgPRnowEfRQQzUB6cFID0Z6MNKDkR6M9GCkBxNBDzVUE5AejPRgpAcjPRjpwUgPRnowEfRQQzUB6cFID0Z6MNKDkR6M9GCkBxNBDzVUE5AejPRgpAcjPRjpwUgPRnowEfTYgTdfysAHyi1vNaQHh/TgkB4c0oNDenBIDw7pwXG09dAVqglID0Z6MNKDkR6M9GCkByM9mAh6qKGagPRgpAcjPRjpwUgPRnow0oOJoIcaqglID0Z6MNKDkR6M9GCkByM9mAh6qKGagPRgpAcjPRjpwUgPRnow0oOJoIcaqglID0Z6MNKDkR6M9GCkByM9mAh6qKGagPRgpAcjPRjpwUgPRnow0oOJoIcaqglID0Z6MNKDkR6M9GCkByM9mAh6qKGagPRgpAcjPRjpwUgPRnow0oOJoIcaqglID0Z6MNKDkR6M9GCkByM9mAh6qKGagPRgpAcjPRjpwUgPRnow0oOJoIcaqglID0Z6MNKDkR6M9GCkByM9mAh6qKGagPRgpAcjPRjpwUgPRnow0oPZfD267v8AjI4ErVA1hBMAAAAASUVORK5CYII="},648:function(t,s,a){t.exports=a.p+"assets/img/wypz.4794df27.jpg"},649:function(t,s,a){t.exports=a.p+"assets/img/POSTrequest.4bd7cc45.jpg"},650:function(t,s,a){t.exports=a.p+"assets/img/POSTres.42de972f.jpg"},651:function(t,s,a){t.exports=a.p+"assets/img/zdhf.6097298a.jpg"},652:function(t,s,a){t.exports=a.p+"assets/img/menu.d6c737ca.jpg"},653:function(t,s,a){t.exports=a.p+"assets/img/hqjsapi_ticket.d6d6b98a.jpg"},654:function(t,s,a){t.exports=a.p+"assets/img/yuming.656eb32a.png"},655:function(t,s,a){t.exports=a.p+"assets/img/js-sdksq.dcb3744d.jpg"},734:function(t,s,a){"use strict";a.r(s);var n=a(5),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h2",{attrs:{id:"å¾®ä¿¡å…¬ä¼—å·ç®€è¿°"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#å¾®ä¿¡å…¬ä¼—å·ç®€è¿°"}},[t._v("#")]),t._v(" å¾®ä¿¡å…¬ä¼—å·ç®€è¿°")]),t._v(" "),n("p",[t._v("å¾®ä¿¡å…¬ä¼—å¹³å°,æ˜¯ç»™ä¸ªäººã€ä¼ä¸šå’Œç»„ç»‡æä¾›ä¸šåŠ¡æœåŠ¡ä¸ç”¨æˆ·ç®¡ç†èƒ½åŠ›çš„å…¨æ–°æœåŠ¡å¹³å°ã€‚ç®€å•æ¥è¯´ï¼Œä¸€ä¸ªæä¾›æœåŠ¡å¹³å°ã€‚")]),t._v(" "),n("p",[t._v("**æ³¨å†Œå¾®ä¿¡å…¬ä¼—å·ï¼š**https://mp.weixin.qq.com/")]),t._v(" "),n("h3",{attrs:{id:"å¾®ä¿¡å…¬ä¼—å·çš„åˆ†ç±»"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#å¾®ä¿¡å…¬ä¼—å·çš„åˆ†ç±»"}},[t._v("#")]),t._v(" å¾®ä¿¡å…¬ä¼—å·çš„åˆ†ç±»")]),t._v(" "),n("h4",{attrs:{id:"è®¢é˜…å·"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#è®¢é˜…å·"}},[t._v("#")]),t._v(" è®¢é˜…å·")]),t._v(" "),n("p",[t._v("**é€‚ç”¨ä¸»è¦äººç¾¤ï¼š**ä¸ªäººã€åª’ä½“ã€‚\n**ç¾¤å‘æ¬¡æ•°ï¼š**è®¢é˜…å·ï¼ˆè®¤è¯ç”¨æˆ·ã€éè®¤è¯ç”¨æˆ·ï¼‰1å¤©å†…å¯ç¾¤å‘1æ¡æ¶ˆæ¯ã€‚\nä¸ºåª’ä½“å’Œä¸ªäººæä¾›ä¸€ç§æ–°çš„ä¿¡æ¯ä¼ æ’­æ–¹å¼ï¼Œä¸»è¦åŠŸèƒ½æ˜¯åœ¨å¾®ä¿¡ä¾§ç»™ç”¨æˆ·ä¼ è¾¾èµ„è®¯ï¼›ï¼ˆåŠŸèƒ½ç±»ä¼¼æŠ¥çº¸æ‚å¿—ï¼‰")]),t._v(" "),n("h4",{attrs:{id:"æœåŠ¡å·"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#æœåŠ¡å·"}},[t._v("#")]),t._v(" æœåŠ¡å·")]),t._v(" "),n("p",[t._v("**é€‚ç”¨ä¸»è¦äººç¾¤ï¼š**ä¼ä¸šã€æ”¿åºœæˆ–å…¶ä»–ç»„ç»‡ã€‚\n**ç¾¤å‘æ¬¡æ•°ï¼š**æœåŠ¡å·1ä¸ªæœˆï¼ˆæŒ‰è‡ªç„¶æœˆï¼‰å†…å¯å‘é€4æ¡ç¾¤å‘æ¶ˆæ¯ã€‚\nä¸ºä¼ä¸šå’Œç»„ç»‡æä¾›æ›´å¼ºå¤§çš„ä¸šåŠ¡æœåŠ¡ä¸ç”¨æˆ·ç®¡ç†èƒ½åŠ›ï¼Œä¸»è¦åå‘æœåŠ¡ç±»äº¤äº’ï¼ˆåŠŸèƒ½ç±»ä¼¼é“¶è¡Œï¼Œ12315ï¼Œ114ç­‰ï¼‰")]),t._v(" "),n("h4",{attrs:{id:"ä¼ä¸šå¾®ä¿¡-åŸä¼ä¸šå·"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ä¼ä¸šå¾®ä¿¡-åŸä¼ä¸šå·"}},[t._v("#")]),t._v(" ä¼ä¸šå¾®ä¿¡ï¼ˆåŸä¼ä¸šå·ï¼‰")]),t._v(" "),n("p",[t._v("ä¼ä¸šå¾®ä¿¡ç»§æ‰¿ä¼ä¸šå·æ‰€æœ‰èƒ½åŠ›ï¼ŒåŒæ—¶ä¸ºä¼ä¸šæä¾›ä¸“ä¸šçš„é€šè®¯å·¥å…·ã€ä¸°å¯Œçš„åŠå…¬åº”ç”¨ä¸APIï¼ŒåŠ©åŠ›ä¼ä¸šé«˜æ•ˆæ²Ÿé€šä¸åŠå…¬ã€‚")]),t._v(" "),n("h3",{attrs:{id:"è®¢é˜…ä¸æœåŠ¡å·çš„ä¸»è¦åŒºåˆ«"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#è®¢é˜…ä¸æœåŠ¡å·çš„ä¸»è¦åŒºåˆ«"}},[t._v("#")]),t._v(" è®¢é˜…ä¸æœåŠ¡å·çš„ä¸»è¦åŒºåˆ«")]),t._v(" "),n("h4",{attrs:{id:"æ¨é€é¢‘ç‡"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#æ¨é€é¢‘ç‡"}},[t._v("#")]),t._v(" æ¨é€é¢‘ç‡")]),t._v(" "),n("p",[t._v("è®¢é˜…å·ï¼š1å¤©å†…å¯ç¾¤å‘1æ¡æ¶ˆæ¯ã€‚\t\t\tæœåŠ¡å·ï¼š1ä¸ªæœˆå†…å¯å‘é€4æ¡ç¾¤å‘æ¶ˆæ¯ã€‚")]),t._v(" "),n("h4",{attrs:{id:"æä¾›åŠŸèƒ½"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#æä¾›åŠŸèƒ½"}},[t._v("#")]),t._v(" æä¾›åŠŸèƒ½")]),t._v(" "),n("p",[t._v("è®¢é˜…å·ï¼šåŒ…å«å¤§éƒ¨åˆ†åŠŸèƒ½ã€‚\t\t\t\tæœåŠ¡å·ï¼šè®¤è¯çš„æœåŠ¡å·åŒ…å«å…¨éƒ¨åŠŸèƒ½ã€‚")]),t._v(" "),n("h4",{attrs:{id:"é€‚ç”¨äººç¾¤"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#é€‚ç”¨äººç¾¤"}},[t._v("#")]),t._v(" é€‚ç”¨äººç¾¤")]),t._v(" "),n("p",[t._v("è®¢é˜…å·ï¼šä¸ªäººã€åª’ä½“ã€‚\t\t\t\tæœåŠ¡å·ï¼šä¼ä¸šã€æ”¿åºœæˆ–å…¶ä»–ç»„ç»‡ã€‚")]),t._v(" "),n("h3",{attrs:{id:"ä½¿ç”¨å¾®ä¿¡å·"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ä½¿ç”¨å¾®ä¿¡å·"}},[t._v("#")]),t._v(" ä½¿ç”¨å¾®ä¿¡å·")]),t._v(" "),n("p",[t._v("ç™»å½•åï¼Œé¡µé¢å·¦è¾¹å°†ä¼šæœ‰ä¸€æ’åŠŸèƒ½é€‰é¡¹ï¼Œè®¢é˜…å·ä¸­ä¸€å…±æœ‰5ä¸ªåŠŸèƒ½å¯ä»¥ç›´æ¥è®¾ç½®ä½¿ç”¨ã€‚")]),t._v(" "),n("img",{staticStyle:{float:"left"},attrs:{src:"img/officialaccount/wxgoneng.png"}}),t._v(" "),n("h2",{attrs:{id:"æ˜ å°„æœåŠ¡å™¨æ¶æ„"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#æ˜ å°„æœåŠ¡å™¨æ¶æ„"}},[t._v("#")]),t._v(" æ˜ å°„æœåŠ¡å™¨æ¶æ„")]),t._v(" "),n("h3",{attrs:{id:"æ„å»ºnode-jsæœåŠ¡å™¨"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#æ„å»ºnode-jsæœåŠ¡å™¨"}},[t._v("#")]),t._v(" æ„å»ºnode.jsæœåŠ¡å™¨")]),t._v(" "),n("p",[n("code",[t._v("demo.js")])]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¼•å…¥expressæ¨¡å—")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" express "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'express'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åˆ›å»ºappåº”ç”¨å¯¹è±¡")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" app "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("express")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ·»åŠ ä¸­é—´ä»¶")]),t._v("\napp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("use")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("req"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" res"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" next")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç›‘å¬ç«¯å£å·")]),t._v("\napp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("listen")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("3000")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'æœåŠ¡å™¨å¯åŠ¨æˆåŠŸ'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),n("p",[n("strong",[t._v("å‘½ä»¤è¿è¡ŒæœåŠ¡å™¨ï¼š")]),n("code",[t._v("node demo.js")])]),t._v(" "),n("h3",{attrs:{id:"ngrok-æ˜ å°„å†…ç½‘ç«¯å£"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ngrok-æ˜ å°„å†…ç½‘ç«¯å£"}},[t._v("#")]),t._v(" ngrok æ˜ å°„å†…ç½‘ç«¯å£")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("|- æˆæƒå‘½ä»¤ -|\nngrok authtoken 1aHiCly2wNBjST2mtF4oJp92Zjj_3sM27HoSy4yDSUtc6tRdL\n|- è¿è¡Œå¼€å‘ç«¯å£ -|\nngrok http 3000\n")])])]),n("img",{staticStyle:{zoom:"80%"},attrs:{src:"img/officialaccount/ngrok.png",alt:"å›¾ç‰‡4"}}),t._v(" "),n("h2",{attrs:{id:"å¾®ä¿¡å…¬ä¼—å·å¼€å‘è®¾ç½®"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#å¾®ä¿¡å…¬ä¼—å·å¼€å‘è®¾ç½®"}},[t._v("#")]),t._v(" å¾®ä¿¡å…¬ä¼—å·å¼€å‘è®¾ç½®")]),t._v(" "),n("h3",{attrs:{id:"å¾®ä¿¡å…¬ä¼—å·çš„è¯·æ±‚æµç¨‹"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#å¾®ä¿¡å…¬ä¼—å·çš„è¯·æ±‚æµç¨‹"}},[t._v("#")]),t._v(" å¾®ä¿¡å…¬ä¼—å·çš„è¯·æ±‚æµç¨‹")]),t._v(" "),n("p",[n("img",{attrs:{src:a(647),alt:"1586397335(1)"}})]),t._v(" "),n("h3",{attrs:{id:"å¡«å†™æ¥å£ä¿¡æ¯é…ç½®"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#å¡«å†™æ¥å£ä¿¡æ¯é…ç½®"}},[t._v("#")]),t._v(" å¡«å†™æ¥å£ä¿¡æ¯é…ç½®")]),t._v(" "),n("p",[t._v("å¼€å‘/å¼€å‘è€…å·¥å…·  ==>  å¼€å‘è€…æ–‡æ¡£  ==>  å¼€å§‹å¼€å‘/æ¥å£æµ‹è¯•å·ç”³è¯·  ==>  è¿›å…¥å¾®ä¿¡å…¬ä¼—å¸å·æµ‹è¯•å·ç”³è¯·ç³»ç»Ÿ")]),t._v(" "),n("img",{staticStyle:{zoom:"67%"},attrs:{src:"img/officialaccount/fwq.png",alt:"å›¾ç‰‡2"}}),t._v(" "),n("h3",{attrs:{id:"æœåŠ¡å™¨æ¥å£ä¿¡æ¯é…ç½®"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#æœåŠ¡å™¨æ¥å£ä¿¡æ¯é…ç½®"}},[t._v("#")]),t._v(" æœåŠ¡å™¨æ¥å£ä¿¡æ¯é…ç½®")]),t._v(" "),n("p",[t._v("å¡«å†™ngrokå†…ç½‘æ¸—é€çš„URLå’ŒTokenæäº¤åï¼Œå¾®ä¿¡ä¼šå‘é€ä¸€ä¸ªè¯·æ±‚åˆ°å¡«å†™çš„urlä¸Šï¼ŒæœåŠ¡å™¨éœ€è¦å¯¹è¯·æ±‚å¤„ç†å¹¶è¿”å›ç»™å¾®ä¿¡æ‰èƒ½é…ç½®æˆåŠŸ")]),t._v(" "),n("img",{staticStyle:{zoom:"67%"},attrs:{src:"img/officialaccount/jkxxpz.png",alt:"å›¾ç‰‡3"}}),t._v(" "),n("p",[n("strong",[t._v("å¾®ä¿¡æ¥å£é…ç½®è¯·æ±‚å‚æ•°")])]),t._v(" "),n("div",{staticClass:"language-json extra-class"},[n("pre",{pre:!0,attrs:{class:"language-json"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  signature"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" 'c35b593471d122b1683c1090eb4dffa3a494e14c'"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¾®ä¿¡åŠ å¯†ç­¾å")]),t._v("\n  echostr"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" '"),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("8914314992233147389")]),t._v("'"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\t\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// éšæœºå­—ç¬¦ä¸²")]),t._v("\n  timestamp"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" '"),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1586400252")]),t._v("'"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\t\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¾®ä¿¡å‘é€è¯·æ±‚æ—¶é—´æˆ³")]),t._v("\n  nonce"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" '"),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("267878625")]),t._v("'\t\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// éšæœºæ•°å­—")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("h3",{attrs:{id:"éªŒè¯æœåŠ¡å™¨è¯·æ±‚æ¥æº"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#éªŒè¯æœåŠ¡å™¨è¯·æ±‚æ¥æº"}},[t._v("#")]),t._v(" éªŒè¯æœåŠ¡å™¨è¯·æ±‚æ¥æº")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("1ï¼‰å°†timestampã€nonceã€tokenä¸‰ä¸ªå‚æ•°è¿›è¡Œå­—å…¸åºæ’åº (a b c.... 1 2 3...)\n2ï¼‰å°†ä¸‰ä¸ªå‚æ•°å­—ç¬¦ä¸²æ‹¼æ¥æˆä¸€ä¸ªå­—ç¬¦ä¸²è¿›è¡Œsha1åŠ å¯† \n3ï¼‰å¼€å‘è€…è·å¾—åŠ å¯†åçš„å­—ç¬¦ä¸² ä¸ signature(å¾®ä¿¡åŠ å¯†ç­¾å)å¯¹æ¯”ï¼Œ æ ‡è¯†è¯¥è¯·æ±‚æ¥æºäºå¾®ä¿¡\n\t å¦‚æœæ¯”è¾ƒä¸€æ ·ã€è¯´æ˜ä¿¡æ¯æ¥æºäºå¾®ä¿¡æœåŠ¡å™¨ï¼Œè¿”å›echostrç»™å¾®ä¿¡æœåŠ¡å™¨\n\t å¦‚æœä¸ä¸€æ ·ï¼Œè¯´æ˜ä¸æ˜¯å¾®ä¿¡æœåŠ¡å™¨å‘é€çš„æ¶ˆæ¯ï¼Œè¿”å›error\n")])])]),n("p",[n("strong",[t._v("å®‰è£…sha1åŠ å¯†ï¼š")]),n("code",[t._v("cnpm i sha1 --save")])]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¼•å…¥expressæ¨¡å—")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" express "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'express'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¼•å…¥sha1åŠ å¯†æ¨¡å—")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" sha1 "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'sha1'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åˆ›å»ºappåº”ç”¨å¯¹è±¡")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" app "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("express")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* éªŒè¯æœåŠ¡å™¨æœ‰æ•ˆæ€§(æ¥æ”¶å¤„ç†æ‰€æœ‰å‚æ•°) */")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// é…ç½®å®˜ç½‘æä¾›çš„å‚æ•°")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" token "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'mrMaoHTML15106'")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" appID "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'wxa2a6b98bb1a339d6'")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" appsecret "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'d0896af5e43a366558cb05e68f6ce7c8'")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ·»åŠ é»˜è®¤æ ¹è·¯å¾„ä¸­é—´ä»¶è¯·æ±‚è·¯ç”±")]),t._v("\napp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("use")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("req"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" res"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" next")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è·å–è¯·æ±‚å‚æ•°ï¼šåŠ å¯†ç­¾åã€éšæœºå­—ç¬¦ä¸²ã€è¯·æ±‚æ—¶é—´æˆ³ã€éšæœºæ•°å­—")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("signature"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" echostr"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" timestamp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" nonce"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" req"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("query\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è¿›è¡Œå­—å…¸æ’åº, å¹¶è¿›è¡Œæ‹¼ä¸²")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" str "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("timestamp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" nonce"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" token"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("sort")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("join")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è¿›è¡Œsha1åŠ å¯†")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" sha1Str "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("sha1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("str"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åŠ å¯†å­—ç¬¦ä¸²è¿›è¡Œå¾®ä¿¡æœåŠ¡å™¨æ¯”è¾ƒã€‚æ¯”è¾ƒæˆåŠŸè¿”å›éšæœºå­—ç¬¦ä¸²ï¼Œæ¯”è¾ƒå¤±è´¥è¿”å›errorã€‚")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("sha1Str "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" signature"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        res"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("send")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("echostr"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" res"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("send")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'error'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç›‘å¬ç«¯å£å·")]),t._v("\napp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("listen")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("3000")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'æœåŠ¡å™¨å¯åŠ¨æˆåŠŸ'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),n("h3",{attrs:{id:"è¿›è¡Œæ¨¡å—åŒ–ç®¡ç†"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#è¿›è¡Œæ¨¡å—åŒ–ç®¡ç†"}},[t._v("#")]),t._v(" è¿›è¡Œæ¨¡å—åŒ–ç®¡ç†")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("â”œâ”€ config/           \t## å­˜å‚¨é…ç½®ä¿¡æ¯ç›®å½•\nâ”‚   â”œâ”€ index.js\nâ”œâ”€â”€ wechat/           ## æ ¸å¿ƒåŠŸèƒ½åº“(è·¯ç”±ä¸­é—´ä»¶å‡½æ•°)\nâ”‚   â”œâ”€ auth.js\t\t    \t## éªŒè¯æœåŠ¡å™¨åŠŸèƒ½\nâ”œâ”€â”€ app.js         \t  ## è·¯ç”±æ¥å£å¯åŠ¨æ–‡ä»¶\nâ”œâ”€â”€ package.json     \t## é…ç½®æ–‡ä»¶\n")])])]),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* config/index.js:é…ç½®ä¿¡æ¯å¯¹è±¡æ¨¡å— */")]),t._v("\nmodule"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    token"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'mrMaoHTML15106'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    appID"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'wxa2a6b98bb1a339d6'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    appsecret"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'d0896af5e43a366558cb05e68f6ce7c8'")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* wechat/auth.js:å¾®ä¿¡èº«ä»½éªŒè¯æ¨¡å— */")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¼•å…¥sha1åŠ å¯†æ¨¡å—")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" sha1 "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'sha1'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¼•å…¥tokenæ•°æ®æ¨¡å—")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("token"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./config'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nmodule"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("exports")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("req"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" res"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" next")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è·å–è¯·æ±‚å‚æ•°ï¼šåŠ å¯†ç­¾åã€éšæœºå­—ç¬¦ä¸²ã€è¯·æ±‚æ—¶é—´æˆ³ã€éšæœºæ•°å­—")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("signature"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" echostr"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" timestamp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" nonce"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" req"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("query\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è¿›è¡Œå­—å…¸æ’åº, å¹¶è¿›è¡Œæ‹¼ä¸²")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" str "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("timestamp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" nonce"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" token"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("sort")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("join")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è¿›è¡Œsha1åŠ å¯†")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" sha1Str "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("sha1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("str"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åŠ å¯†å­—ç¬¦ä¸²è¿›è¡Œå¾®ä¿¡æœåŠ¡å™¨æ¯”è¾ƒã€‚æ¯”è¾ƒæˆåŠŸè¿”å›éšæœºå­—ç¬¦ä¸²ï¼Œæ¯”è¾ƒå¤±è´¥è¿”å›errorã€‚")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("sha1Str "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" signature"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        res"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("send")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("echostr"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" res"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("send")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'error'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* app.js:è·¯ç”±æ¥å£å¯åŠ¨æ–‡ä»¶ */")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¼•å…¥expresså¹¶åˆ›å»ºappåº”ç”¨å¯¹è±¡")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" app "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'express'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¼•å…¥authä¸­é—´ä»¶å‡½æ•°")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" auth "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./wechat/auth'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ·»åŠ é»˜è®¤æ ¹è·¯å¾„è¯·æ±‚è·¯ç”±")]),t._v("\napp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("use")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("auth")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¼€å¯ç›‘å¬ç«¯å£å·")]),t._v("\napp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("listen")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("3000")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'æœåŠ¡å™¨å¯åŠ¨æˆåŠŸ'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),n("h2",{attrs:{id:"å¾®ä¿¡å…¬ä¼—å·åŠŸèƒ½å¼€å‘"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#å¾®ä¿¡å…¬ä¼—å·åŠŸèƒ½å¼€å‘"}},[t._v("#")]),t._v(" å¾®ä¿¡å…¬ä¼—å·åŠŸèƒ½å¼€å‘")]),t._v(" "),n("h3",{attrs:{id:"ä½¿ç”¨requeståº“å‘é€è¯·æ±‚"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ä½¿ç”¨requeståº“å‘é€è¯·æ±‚"}},[t._v("#")]),t._v(" ä½¿ç”¨requeståº“å‘é€è¯·æ±‚")]),t._v(" "),n("p",[n("strong",[t._v("å®‰è£…ï¼š")]),n("code",[t._v("cnpm i request request-promise-native --save")])]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" rp "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'request-promise-native'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" url "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'www.xxx.com'")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è¿”å›å€¼æ˜¯promiseå¯¹è±¡")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("rp")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("method"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'GET'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" url"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" json"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("res")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v("console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("res"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("catch")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("err")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v("console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("err"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),n("p",[t._v("####### ###")]),t._v(" "),n("h3",{attrs:{id:"è·å–å”¯ä¸€æ¥å£è°ƒç”¨å‡­æ®"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#è·å–å”¯ä¸€æ¥å£è°ƒç”¨å‡­æ®"}},[t._v("#")]),t._v(" è·å–å”¯ä¸€æ¥å£è°ƒç”¨å‡­æ®")]),t._v(" "),n("p",[t._v("access_tokenæ˜¯å…¬ä¼—å·çš„å…¨å±€å”¯ä¸€æ¥å£è°ƒç”¨å‡­æ®ï¼Œå…¬ä¼—å·è°ƒç”¨å„æ¥å£æ—¶éƒ½éœ€ä½¿ç”¨access_tokenã€‚å¼€å‘è€…éœ€è¦è¿›è¡Œå¦¥å–„ä¿å­˜ã€‚access_tokençš„å­˜å‚¨è‡³å°‘è¦ä¿ç•™512ä¸ªå­—ç¬¦ç©ºé—´ã€‚access_tokençš„æœ‰æ•ˆæœŸç›®å‰ä¸º2ä¸ªå°æ—¶ï¼Œéœ€å®šæ—¶åˆ·æ–°ï¼Œé‡å¤è·å–å°†å¯¼è‡´ä¸Šæ¬¡è·å–çš„access_tokenå¤±æ•ˆã€‚")]),t._v(" "),n("p",[t._v("**è¯·æ±‚åœ°å€(get)ğŸ˜—*https://api.weixin.qq.com/cgi-bin/token?grant_type=client_credential&appid=APPID&secret=APPSECRET\n"),n("strong",[t._v("è¯·æ±‚å‚æ•°:")]),t._v(" "),n("code",[t._v("grant_type:'client_credential'")]),t._v(" "),n("code",[t._v("appid: ç¬¬ä¸‰æ–¹ç”¨æˆ·å”¯ä¸€å‡­è¯")]),t._v(" "),n("code",[t._v("secret: ç¬¬ä¸‰æ–¹ç”¨æˆ·å”¯ä¸€å‡­è¯å¯†é’¥")])]),t._v(" "),n("p",[n("img",{attrs:{src:a(648),alt:"1586405253(1)"}})]),t._v(" "),n("p",[t._v("####### ###")]),t._v(" "),n("h3",{attrs:{id:"å¾®ä¿¡æœåŠ¡å™¨postè¯·æ±‚ç±»å‹"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#å¾®ä¿¡æœåŠ¡å™¨postè¯·æ±‚ç±»å‹"}},[t._v("#")]),t._v(" å¾®ä¿¡æœåŠ¡å™¨POSTè¯·æ±‚ç±»å‹")]),t._v(" "),n("p",[t._v("å¾®ä¿¡æœåŠ¡å™¨POSTè¯·æ±‚å¼€å‘è€…æœåŠ¡å™¨ç±»å‹")]),t._v(" "),n("p",[n("img",{attrs:{src:a(649),alt:"1586493507(1)"}})]),t._v(" "),n("p",[t._v("####### ###")]),t._v(" "),n("h3",{attrs:{id:"å“åº”å¾®ä¿¡æœåŠ¡å™¨postç±»å‹"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#å“åº”å¾®ä¿¡æœåŠ¡å™¨postç±»å‹"}},[t._v("#")]),t._v(" å“åº”å¾®ä¿¡æœåŠ¡å™¨POSTç±»å‹")]),t._v(" "),n("p",[t._v("å¼€å‘è€…æœåŠ¡å™¨å“åº”å¾®ä¿¡æœåŠ¡å™¨POSTç±»å‹")]),t._v(" "),n("p",[n("img",{attrs:{src:a(650),alt:"1586494626(1)"}})]),t._v(" "),n("p",[t._v("####### ###")]),t._v(" "),n("h3",{attrs:{id:"è·å–æ¶ˆæ¯å¹¶è‡ªåŠ¨å›å¤"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#è·å–æ¶ˆæ¯å¹¶è‡ªåŠ¨å›å¤"}},[t._v("#")]),t._v(" è·å–æ¶ˆæ¯å¹¶è‡ªåŠ¨å›å¤")]),t._v(" "),n("p",[t._v("å¾®ä¿¡æœåŠ¡å™¨ä¼šå‘é€ä¸¤ç§ç±»å‹æ¶ˆæ¯ç»™å¼€å‘è€…æœåŠ¡å™¨\n**GETè¯·æ±‚ï¼š**éªŒè¯æœåŠ¡å™¨æœ‰æ•ˆæ€§\n**POSTè¯·æ±‚ï¼š**å¾®ä¿¡æœåŠ¡å™¨ä¼šå°†ç”¨æˆ·å‘é€çš„æ•°æ®ä»¥POSTè¯·æ±‚è½¬å‘åˆ°å¼€å‘è€…æœåŠ¡å™¨ä¸Š\nå¦‚æœå¼€å‘è€…æœåŠ¡å™¨æ²¡æœ‰è¿”å›å“åº”ï¼Œå¾®ä¿¡æœåŠ¡å™¨ä¼šå‘é€å¤šä¸‰æ¬¡å“åº”\næ¥æ”¶è¯·æ±‚ä½“ä¸­çš„æ•°æ®ï¼Œæ˜¯æµä½“æ•°æ®ï¼Œä¸èƒ½ç›´æ¥æ‹¿åˆ°æ•°æ®\næ•°æ®æ¥æ”¶å®Œæ¯•åï¼Œæ˜¯Bufferå¯¹è±¡ã€‚è½¬æ¢åæ˜¯xmlæ•°æ®")]),t._v(" "),n("p",[n("img",{attrs:{src:a(651),alt:"1586425881(1)"}})]),t._v(" "),n("p",[t._v("####### ###")]),t._v(" "),n("h3",{attrs:{id:"åˆ›å»ºè‡ªå®šä¹‰èœå•"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#åˆ›å»ºè‡ªå®šä¹‰èœå•"}},[t._v("#")]),t._v(" åˆ›å»ºè‡ªå®šä¹‰èœå•")]),t._v(" "),n("p",[t._v("æ³¨æ„ï¼šè°ƒç”¨åˆ é™¤èœå•æ¥å£éœ€è¦å‘paramsä¼ å…¥access_tokenï¼Œè°ƒç”¨åˆ›å»ºèœå•éœ€è¦å‘è¯·æ±‚ä½“(data)ä¼ å…¥jsonæ•°æ®")]),t._v(" "),n("p",[n("img",{attrs:{src:a(652),alt:"1586504854(1)"}})]),t._v(" "),n("p",[t._v("####### ###")]),t._v(" "),n("h2",{attrs:{id:"åå°æ¸²æŸ“ejsé¡µé¢"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#åå°æ¸²æŸ“ejsé¡µé¢"}},[t._v("#")]),t._v(" åå°æ¸²æŸ“ejsé¡µé¢")]),t._v(" "),n("p",[n("strong",[t._v("å®‰è£…ejsï¼š")]),n("code",[t._v("cnpm i ejs --save")])]),t._v(" "),n("h3",{attrs:{id:"é…ç½®ejsé¡µé¢è·¯ç”±"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#é…ç½®ejsé¡µé¢è·¯ç”±"}},[t._v("#")]),t._v(" é…ç½®ejsé¡µé¢è·¯ç”±")]),t._v(" "),n("p",[n("code",[t._v("wpp_server/app.js")])]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" app "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'express'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" auth "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./wechat/auth'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// é…ç½®æ¨¡æ¿èµ„æºç›®å½•çš„ç»å¯¹è·¯å¾„")]),t._v("\napp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("set")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'views'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token template-string"}},[n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),n("span",{pre:!0,attrs:{class:"token interpolation"}},[n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("__dirname"),n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("/views")]),n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// é…ç½®æ¨¡æ¿å¼•æ“")]),t._v("\napp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("set")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'view engine'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ejs'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ¸²æŸ“è·¯ç”±é¡µé¢, å°†æ¸²æŸ“å¥½çš„é¡µé¢è¿”å›ç»™ç”¨æˆ·")]),t._v("\napp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/search'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("req"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("res")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v("res"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("render")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'search'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\napp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("use")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("auth")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¼€å¯ç›‘å¬ç«¯å£å·")]),t._v("\napp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("listen")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("3000")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'start_server:http://localhost:3000/'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n")])])]),n("h2",{attrs:{id:"å¾®ä¿¡å…¬ä¼—å·js-sdk"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#å¾®ä¿¡å…¬ä¼—å·js-sdk"}},[t._v("#")]),t._v(" å¾®ä¿¡å…¬ä¼—å·JS-SDK")]),t._v(" "),n("p",[t._v("å¾®ä¿¡JS-SDK ( JavaScript Software Development Kit )æ˜¯å¾®ä¿¡å…¬ä¼—å¹³å°é¢å‘ç½‘é¡µå¼€å‘è€…æä¾›çš„åŸºäºå¾®ä¿¡å†…çš„ç½‘é¡µå¼€å‘å·¥å…·åŒ…ã€‚")]),t._v(" "),n("p",[t._v("é€šè¿‡ä½¿ç”¨å¾®ä¿¡JS-SDKï¼Œç½‘é¡µå¼€å‘è€…å¯å€ŸåŠ©å¾®ä¿¡é«˜æ•ˆåœ°ä½¿ç”¨æ‹ç…§ã€é€‰å›¾ã€è¯­éŸ³ã€ä½ç½®ç­‰æ‰‹æœºç³»ç»Ÿçš„èƒ½åŠ›ï¼ŒåŒæ—¶å¯ä»¥ç›´æ¥ä½¿ç”¨å¾®ä¿¡åˆ†äº«ã€æ‰«ä¸€æ‰«ã€å¡åˆ¸ã€æ”¯ä»˜ç­‰å¾®ä¿¡ç‰¹æœ‰çš„èƒ½åŠ›ï¼Œä¸ºå¾®ä¿¡ç”¨æˆ·æä¾›æ›´ä¼˜è´¨çš„ç½‘é¡µä½“éªŒã€‚")]),t._v(" "),n("p",[t._v("ç®€å•æ¥è¯´ï¼Œä½¿ç”¨JS-SDKæˆ‘ä»¬å¯ä»¥å¼•å…¥å¤–éƒ¨ç½‘é¡µå¹¶ä½¿ç”¨å¾®ä¿¡å…¬ä¼—å·æä¾›çš„APIã€‚")]),t._v(" "),n("h3",{attrs:{id:"è·å–-ticket-ä¸´æ—¶ç¥¨æ®"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#è·å–-ticket-ä¸´æ—¶ç¥¨æ®"}},[t._v("#")]),t._v(" è·å– ticket ä¸´æ—¶ç¥¨æ®")]),t._v(" "),n("p",[t._v("jsapi_ticketæ˜¯å…¬ä¼—å·ç”¨äºè°ƒç”¨å¾®ä¿¡JSæ¥å£çš„ä¸´æ—¶ç¥¨æ®ã€‚æ­£å¸¸æƒ…å†µä¸‹ï¼Œjsapi_ticketçš„æœ‰æ•ˆæœŸä¸º7200ç§’ï¼Œé€šè¿‡access_tokenæ¥è·å–ã€‚")]),t._v(" "),n("p",[n("img",{attrs:{src:a(653),alt:"hqjsapi_ticket"}})]),t._v(" "),n("h3",{attrs:{id:"è®¡ç®—-js-sdk-ç­¾ååˆ°æ¸²æŸ“é¡µé¢"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#è®¡ç®—-js-sdk-ç­¾ååˆ°æ¸²æŸ“é¡µé¢"}},[t._v("#")]),t._v(" è®¡ç®— JS_SDK ç­¾ååˆ°æ¸²æŸ“é¡µé¢")]),t._v(" "),n("p",[n("code",[t._v("wpp_server/app.js")])]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("1.ç»„åˆå‚ä¸ç­¾åçš„å››ä¸ªå‚æ•°:jsapi_ticket(ä¸´æ—¶ç¥¨æ®)ã€noncestr(éšæœºå­—ç¬¦ä¸²)ã€timestamp(æ—¶é—´æˆ³)ã€url(å½“å‰æœåŠ¡å™¨åœ°å€)\n2.å°†å…¶è¿›è¡Œå­—å…¸åºæ’åº, ä»¥'&'æ‹¼æ¥åœ¨ä¸€èµ·\n3.è¿›è¡Œsha1åŠ å¯†, æœ€ç»ˆç”Ÿæˆjs-skdç­¾å\n")])])]),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" app "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'express'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" auth "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./reply/auth'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¼•å…¥wechat_apiæ„é€ åŠŸèƒ½å‡½æ•°")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" wechat "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./wechat/wechat'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// é…ç½®æ¨¡æ¿èµ„æºç›®å½•çš„ç»å¯¹è·¯å¾„")]),t._v("\napp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("set")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'views'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token template-string"}},[n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),n("span",{pre:!0,attrs:{class:"token interpolation"}},[n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("__dirname"),n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("/views")]),n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// é…ç½®æ¨¡æ¿å¼•æ“")]),t._v("\napp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("set")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'view engine'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ejs'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ¸²æŸ“è·¯ç”±é¡µé¢, å°†æ¸²æŸ“å¥½çš„é¡µé¢è¿”å›ç»™ç”¨æˆ·")]),t._v("\napp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/search'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("req"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("res")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("ticket"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" wechat"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("fetchJsapiTicket")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" noncestr "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Math"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("round")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Math"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("random")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("100000000000000000")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" timestamp "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Date"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("now")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("url"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./config'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" js_sdk_sign "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token template-string"}},[n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("jsapi_ticket=")]),n("span",{pre:!0,attrs:{class:"token interpolation"}},[n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("ticket"),n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token template-string"}},[n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("noncestr=")]),n("span",{pre:!0,attrs:{class:"token interpolation"}},[n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("noncestr"),n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token template-string"}},[n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("timestamp=")]),n("span",{pre:!0,attrs:{class:"token interpolation"}},[n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("timestamp"),n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token template-string"}},[n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("url=")]),n("span",{pre:!0,attrs:{class:"token interpolation"}},[n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("url"),n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("/search")]),n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å“ªä¸ªè·¯ç”±é¡µé¢éœ€è¦å°±æŠŠå“ªä¸ªè·¯ç”±çš„æŸ¥è¯¢å­—ç¬¦ä¸²æ‹¼æ¥")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("sort")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("join")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'&'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ¸²æŸ“é¡µé¢, ä¼ å…¥ç­¾å, éšæœºå­—ç¬¦ä¸², å½“å‰æ—¶é—´æˆ³")]),t._v("\n    res"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("render")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'search'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" signature"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" noncestr"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" timestamp "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ·»åŠ é»˜è®¤æ ¹è·¯å¾„è¯·æ±‚è·¯ç”±")]),t._v("\napp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("use")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("auth")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¼€å¯ç›‘å¬ç«¯å£å·")]),t._v("\napp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("listen")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("3000")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'start_server:http://localhost:3000/'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),n("h3",{attrs:{id:"js-sdk-æ¥å£æˆæƒæ­¥éª¤"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#js-sdk-æ¥å£æˆæƒæ­¥éª¤"}},[t._v("#")]),t._v(" JS_SDK æ¥å£æˆæƒæ­¥éª¤")]),t._v(" "),n("p",[n("strong",[t._v("æ­¥éª¤ä¸€ï¼šç»‘å®šåŸŸå")])]),t._v(" "),n("p",[n("img",{attrs:{src:a(654),alt:"å›¾ç‰‡5"}})]),t._v(" "),n("p",[n("strong",[t._v("æ­¥éª¤äºŒï¼šå¼•å…¥JSæ–‡ä»¶")])]),t._v(" "),n("p",[n("code",[t._v("view/search.ejs")])]),t._v(" "),n("div",{staticClass:"language-html extra-class"},[n("pre",{pre:!0,attrs:{class:"language-html"}},[n("code",[n("span",{pre:!0,attrs:{class:"token doctype"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<!")]),n("span",{pre:!0,attrs:{class:"token doctype-tag"}},[t._v("DOCTYPE")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token name"}},[t._v("html")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("html")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("lang")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("en"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("head")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("title")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("search"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("title")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("head")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("body")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("h1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("è¿™æ˜¯ä¸€ä¸ªæœç´¢é¡µé¢"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("h1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("src")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("https://res.wx.qq.com/open/js/jweixin-1.6.0.js"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token script"}}),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("body")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("html")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),n("p",[n("strong",[t._v("æ­¥éª¤ä¸‰ï¼šé€šè¿‡configæ³¨å…¥æƒé™éªŒè¯")])]),t._v(" "),n("div",{staticClass:"language-html extra-class"},[n("pre",{pre:!0,attrs:{class:"language-html"}},[n("code",[n("span",{pre:!0,attrs:{class:"token doctype"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<!")]),n("span",{pre:!0,attrs:{class:"token doctype-tag"}},[t._v("DOCTYPE")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token name"}},[t._v("html")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("html")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("lang")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("en"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("head")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("title")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("search"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("title")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("head")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("body")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("h1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("è¿™æ˜¯ä¸€ä¸ªæœç´¢é¡µé¢"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("h1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("src")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("https://res.wx.qq.com/open/js/jweixin-1.6.0.js"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token script"}}),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token script"}},[n("span",{pre:!0,attrs:{class:"token language-javascript"}},[t._v("\n          wx"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("config")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¼€å¯è°ƒè¯•æ¨¡å¼,è°ƒç”¨çš„æ‰€æœ‰apiçš„è¿”å›å€¼ä¼šåœ¨å®¢æˆ·ç«¯alertå‡ºæ¥ï¼Œ")]),t._v("\n          "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è‹¥è¦æŸ¥çœ‹ä¼ å…¥çš„å‚æ•°ï¼Œå¯ä»¥åœ¨pcç«¯æ‰“å¼€ï¼Œå‚æ•°ä¿¡æ¯ä¼šé€šè¿‡logæ‰“å‡ºï¼Œä»…åœ¨pcç«¯æ—¶æ‰ä¼šæ‰“å°ã€‚")]),t._v("\n            debug"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" \n            appId"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'wxa2a6b98bb1a339d6'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¿…å¡«ï¼Œå…¬ä¼—å·çš„å”¯ä¸€æ ‡è¯†")]),t._v("\n            timestamp"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'<%= timestamp %>'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¿…å¡«ï¼Œç”Ÿæˆç­¾åçš„æ—¶é—´æˆ³")]),t._v("\n            nonceStr"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'<%= noncestr %>'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¿…å¡«ï¼Œç”Ÿæˆç­¾åçš„éšæœºä¸²")]),t._v("\n            signature"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'<%= signature %>'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¿…å¡«ï¼Œç­¾å")]),t._v("\n            jsApiList"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¿…å¡«ï¼Œéœ€è¦ä½¿ç”¨çš„JSæ¥å£åˆ—è¡¨")]),t._v("\n                "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'onMenuShareQQ'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// â€œåˆ†äº«åˆ°QQâ€æŒ‰é’®ç‚¹å‡»çŠ¶æ€åŠè‡ªå®šä¹‰åˆ†äº«å†…å®¹æ¥å£")]),t._v("\n                "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'onMenuShareQZone'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//  â€œåˆ†äº«åˆ°QQç©ºé—´â€æŒ‰é’®ç‚¹å‡»çŠ¶æ€åŠè‡ªå®šä¹‰åˆ†äº«å†…å®¹æ¥å£")]),t._v("\n                "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'startRecord'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("      "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¼€å§‹å½•éŸ³")]),t._v("\n                "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'stopRecord'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("       "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç»“æŸå½•éŸ³")]),t._v("\n                "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'translateVoice'")]),t._v("    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è¯†åˆ«éŸ³é¢‘è¿”å›æ–‡å­—ç»“æœ")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        wx"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("ready")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// configä¿¡æ¯éªŒè¯åä¼šæ‰§è¡Œreadyæ–¹æ³•ï¼Œæ‰€æœ‰æ¥å£è°ƒç”¨éƒ½å¿…é¡»åœ¨configæ¥å£è·å¾—ç»“æœä¹‹åï¼Œ")]),t._v("\n\t\t\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// configæ˜¯ä¸€ä¸ªå®¢æˆ·ç«¯çš„å¼‚æ­¥æ“ä½œï¼Œæ‰€ä»¥å¦‚æœéœ€è¦åœ¨é¡µé¢åŠ è½½æ—¶å°±è°ƒç”¨ç›¸å…³æ¥å£ï¼Œ")]),t._v("\n\t\t\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åˆ™é¡»æŠŠç›¸å…³æ¥å£æ”¾åœ¨readyå‡½æ•°ä¸­è°ƒç”¨æ¥ç¡®ä¿æ­£ç¡®æ‰§è¡Œã€‚å¯¹äºç”¨æˆ·è§¦å‘æ—¶æ‰è°ƒç”¨çš„æ¥å£ï¼Œ")]),t._v("\n\t\t\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åˆ™å¯ä»¥ç›´æ¥è°ƒç”¨ï¼Œä¸éœ€è¦æ”¾åœ¨readyå‡½æ•°ä¸­ã€‚")]),t._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// configä¿¡æ¯éªŒè¯å¤±è´¥ä¼šæ‰§è¡Œerroræ–¹æ³•")]),t._v("\n        wx"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("error")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("res")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    ")])]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("body")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("html")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),n("p",[n("strong",[t._v("æ­¥éª¤å››ï¼šåœ¨å¾®ä¿¡å¼€å‘è€…å·¥å…·æŸ¥çœ‹æˆæƒçŠ¶å†µ")])]),t._v(" "),n("p",[n("img",{attrs:{src:a(655),alt:"js-sdkæˆæƒæˆåŠŸ"}})]),t._v(" "),n("p",[n("strong",[t._v("wx.readyä¸­åˆ¤æ–­æ¥å£å¯ç”¨æ€§")])]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("wx"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("ready")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    wx"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("checkJsApi")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        jsApiList"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// éœ€è¦æ£€æµ‹çš„JSæ¥å£åˆ—è¡¨ï¼Œæ‰€æœ‰JSæ¥å£åˆ—è¡¨è§é™„å½•2,")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'onMenuShareQQ'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'onMenuShareQZone'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'startRecord'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'stopRecord'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'translateVoice'")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("success")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("res")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ä»¥é”®å€¼å¯¹çš„å½¢å¼è¿”å›ï¼Œå¯ç”¨çš„apiå€¼trueï¼Œä¸å¯ç”¨ä¸ºfalse")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// å¦‚ï¼š{"checkResult":{"onMenuShareQQ":true},"errMsg":"checkJsApi:ok"}')]),t._v("\n            console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("res"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("h3",{attrs:{id:"è°ƒç”¨å½•éŸ³å¹¶è¯†åˆ«ç»“æœ"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#è°ƒç”¨å½•éŸ³å¹¶è¯†åˆ«ç»“æœ"}},[t._v("#")]),t._v(" è°ƒç”¨å½•éŸ³å¹¶è¯†åˆ«ç»“æœ")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ˜¯å¦åœ¨å½•éŸ³")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" isRecord "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("$")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'.record'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("tap")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("isRecord"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¼€å§‹å½•éŸ³")]),t._v("\n        wx"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("startRecord")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç»“æŸå½•éŸ³")]),t._v("\n        wx"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("stopRecord")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("success")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("res")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç»“æŸå½•éŸ³å, è‡ªåŠ¨ä¸Šä¼ å¾®ä¿¡æœåŠ¡å™¨ä¸­, è¿”å›ä¸€ä¸ªéŸ³é¢‘ID")]),t._v("\n                "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" localId "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" res\n                wx"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("translateVoice")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                    localId"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("   "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// éœ€è¦è¯†åˆ«çš„éŸ³é¢‘ID")]),t._v("\n                    isShowProgressTips"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// é»˜è®¤ä¸º1, æ˜¾ç¤ºè¿›åº¦æç¤º")]),t._v("\n                    "),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("success")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("res")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è¯­éŸ³è¯†åˆ«ç»“æœ")]),t._v("\n                        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" translateResult "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" res\n                        "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("translateResult"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n                    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n                "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),n("h3",{attrs:{id:"js-sdk-æ¥å£è°ƒç”¨è¯´æ˜"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#js-sdk-æ¥å£è°ƒç”¨è¯´æ˜"}},[t._v("#")]),t._v(" JS_SDK æ¥å£è°ƒç”¨è¯´æ˜")]),t._v(" "),n("p",[t._v("æ‰€æœ‰æ¥å£é€šè¿‡wxå¯¹è±¡(ä¹Ÿå¯ä½¿ç”¨jWeixinå¯¹è±¡)æ¥è°ƒç”¨ï¼Œå‚æ•°æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œé™¤äº†æ¯ä¸ªæ¥å£æœ¬èº«éœ€è¦ä¼ çš„å‚æ•°ä¹‹å¤–ï¼Œè¿˜æœ‰ä»¥ä¸‹é€šç”¨å‚æ•°ï¼š")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("successï¼šæ¥å£è°ƒç”¨æˆåŠŸæ—¶æ‰§è¡Œçš„å›è°ƒå‡½æ•°ã€‚\nfailï¼šæ¥å£è°ƒç”¨å¤±è´¥æ—¶æ‰§è¡Œçš„å›è°ƒå‡½æ•°ã€‚\ncompleteï¼šæ¥å£è°ƒç”¨å®Œæˆæ—¶æ‰§è¡Œçš„å›è°ƒå‡½æ•°ï¼Œæ— è®ºæˆåŠŸæˆ–å¤±è´¥éƒ½ä¼šæ‰§è¡Œã€‚\ncancelï¼šç”¨æˆ·ç‚¹å‡»å–æ¶ˆæ—¶çš„å›è°ƒå‡½æ•°ï¼Œä»…éƒ¨åˆ†æœ‰ç”¨æˆ·å–æ¶ˆæ“ä½œçš„apiæ‰ä¼šç”¨åˆ°ã€‚\ntrigger: ç›‘å¬Menuä¸­çš„æŒ‰é’®ç‚¹å‡»æ—¶è§¦å‘çš„æ–¹æ³•ï¼Œè¯¥æ–¹æ³•ä»…æ”¯æŒMenuä¸­çš„ç›¸å…³æ¥å£ã€‚\n")])])]),n("p",[t._v("ä»¥ä¸Šå‡ ä¸ªå‡½æ•°éƒ½å¸¦æœ‰ä¸€ä¸ªå‚æ•°ï¼Œç±»å‹ä¸ºå¯¹è±¡ï¼Œå…¶ä¸­é™¤äº†æ¯ä¸ªæ¥å£æœ¬èº«è¿”å›çš„æ•°æ®ä¹‹å¤–ï¼Œè¿˜æœ‰ä¸€ä¸ªé€šç”¨å±æ€§errMsgï¼Œå…¶å€¼æ ¼å¼å¦‚ä¸‹ï¼š")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v('è°ƒç”¨æˆåŠŸæ—¶ï¼š"xxx:ok" ï¼Œå…¶ä¸­xxxä¸ºè°ƒç”¨çš„æ¥å£å\nç”¨æˆ·å–æ¶ˆæ—¶ï¼š"xxx:cancel"ï¼Œå…¶ä¸­xxxä¸ºè°ƒç”¨çš„æ¥å£å\nè°ƒç”¨å¤±è´¥æ—¶ï¼šå…¶å€¼ä¸ºå…·ä½“é”™è¯¯ä¿¡æ¯\n')])])]),n("h2",{attrs:{id:"ä½¿ç”¨è·¯ç”±ä¸­é—´ä»¶"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ä½¿ç”¨è·¯ç”±ä¸­é—´ä»¶"}},[t._v("#")]),t._v(" ä½¿ç”¨è·¯ç”±ä¸­é—´ä»¶")]),t._v(" "),n("p",[t._v("ä½¿ç”¨è·¯ç”±ä¸­é—´ä»¶æ”¹å–„é¡¹ç›®ç»“æ„")]),t._v(" "),n("p",[n("code",[t._v("router/index.js")])]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åˆ›å»ºrouterå®ä¾‹")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" router "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'express'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("Router")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ·»åŠ è·¯ç”±")]),t._v("\nrouter"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nrouter"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("use")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æš´éœ²router")]),t._v("\nmodule"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" router\n")])])]),n("p",[n("code",[t._v("app.js")])]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¼•å…¥expresså¹¶åˆ›å»ºappåº”ç”¨å¯¹è±¡")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" app "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'express'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// é…ç½®æ¨¡æ¿èµ„æºç›®å½•çš„ç»å¯¹è·¯å¾„")]),t._v("\napp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("set")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'views'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token template-string"}},[n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),n("span",{pre:!0,attrs:{class:"token interpolation"}},[n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("__dirname"),n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("/views")]),n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// é…ç½®æ¨¡æ¿å¼•æ“")]),t._v("\napp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("set")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'view engine'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ejs'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¼€å¯ç›‘å¬ç«¯å£å·")]),t._v("\napp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("listen")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("3000")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'start_server:http://localhost:3000/'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),n("p",[t._v("####### ###")]),t._v(" "),n("h2",{attrs:{id:"puppeteer-çˆ¬å–é¡µé¢æ•°æ®"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#puppeteer-çˆ¬å–é¡µé¢æ•°æ®"}},[t._v("#")]),t._v(" puppeteer çˆ¬å–é¡µé¢æ•°æ®")]),t._v(" "),n("p",[t._v("Puppeteer æ˜¯ Chrome å¼€å‘å›¢é˜Ÿåœ¨ 2017 å¹´å‘å¸ƒçš„ä¸€ä¸ª Node.js åŒ…ï¼Œç”¨æ¥æ¨¡æ‹Ÿ Chrome æµè§ˆå™¨çš„è¿è¡Œã€‚")]),t._v(" "),n("h3",{attrs:{id:"puppeter-å¯å®ç°åŠŸèƒ½"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#puppeter-å¯å®ç°åŠŸèƒ½"}},[t._v("#")]),t._v(" puppeter å¯å®ç°åŠŸèƒ½")]),t._v(" "),n("ul",[n("li",[t._v("ç½‘é¡µæˆªå›¾æˆ–è€…ç”Ÿæˆ PDF")]),t._v(" "),n("li",[t._v("çˆ¬å– SPA æˆ– SSR ç½‘ç«™")]),t._v(" "),n("li",[t._v("UI è‡ªåŠ¨åŒ–æµ‹è¯•ï¼Œæ¨¡æ‹Ÿè¡¨å•æäº¤ï¼Œé”®ç›˜è¾“å…¥ï¼Œç‚¹å‡»ç­‰è¡Œä¸º")]),t._v(" "),n("li",[t._v("æ•è·ç½‘ç«™çš„æ—¶é—´çº¿ï¼Œå¸®åŠ©è¯Šæ–­æ€§èƒ½é—®é¢˜")]),t._v(" "),n("li",[t._v("åˆ›å»ºä¸€ä¸ªæœ€æ–°çš„è‡ªåŠ¨åŒ–æµ‹è¯•ç¯å¢ƒï¼Œä½¿ç”¨æœ€æ–°çš„ js å’Œæœ€æ–°çš„ Chrome æµè§ˆå™¨è¿è¡Œæµ‹è¯•ç”¨ä¾‹")]),t._v(" "),n("li",[t._v("æµ‹è¯• Chrome æ‰©å±•ç¨‹åº")])]),t._v(" "),n("h3",{attrs:{id:"headless-chrome-æ¦‚å¿µ"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#headless-chrome-æ¦‚å¿µ"}},[t._v("#")]),t._v(" Headless Chrome æ¦‚å¿µ")]),t._v(" "),n("ul",[n("li",[t._v("åœ¨æ— ç•Œé¢çš„ç¯å¢ƒä¸­è¿è¡Œ Chrome")]),t._v(" "),n("li",[t._v("é€šè¿‡å‘½ä»¤è¡Œæˆ–è€…ç¨‹åºè¯­è¨€æ“ä½œ Chrome")]),t._v(" "),n("li",[t._v("æ— éœ€äººçš„å¹²é¢„ï¼Œè¿è¡Œæ›´ç¨³å®š")]),t._v(" "),n("li",[t._v("åœ¨å¯åŠ¨ Chrome æ—¶æ·»åŠ å‚æ•° --headlessï¼Œä¾¿å¯ä»¥ headless æ¨¡å¼å¯åŠ¨ Chrome")])]),t._v(" "),n("h3",{attrs:{id:"puppeteer-api-åˆ†å±‚ç»“æ„"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#puppeteer-api-åˆ†å±‚ç»“æ„"}},[t._v("#")]),t._v(" Puppeteer API åˆ†å±‚ç»“æ„")]),t._v(" "),n("p",[t._v("Puppeteer ä¸­çš„ API åˆ†å±‚ç»“æ„åŸºæœ¬å’Œæµè§ˆå™¨ä¿æŒä¸€è‡´ï¼Œä¸‹é¢å¯¹å¸¸ä½¿ç”¨åˆ°çš„å‡ ä¸ªç±»ï¼š")]),t._v(" "),n("img",{staticStyle:{zoom:"80%"},attrs:{src:"https://pic1.zhimg.com/80/v2-f0f7c2390015845d1addabe4f816a8fc_720w.jpg"}}),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("Browserï¼š å¯¹åº”ä¸€ä¸ªæµè§ˆå™¨å®ä¾‹ï¼Œä¸€ä¸ª Browser å¯ä»¥åŒ…å«å¤šä¸ª BrowserContext\n\nBrowserContextï¼š å¯¹åº”æµè§ˆå™¨ä¸€ä¸ªä¸Šä¸‹æ–‡ä¼šè¯ï¼Œå°±åƒæˆ‘ä»¬æ‰“å¼€ä¸€ä¸ªæ™®é€šçš„ Chrome ä¹‹ååˆæ‰“å¼€ä¸€ä¸ªéšèº«æ¨¡å¼çš„æµè§ˆå™¨ä¸€æ ·ï¼ŒBrowserContext å…·æœ‰ç‹¬ç«‹çš„ Session(cookie å’Œ cache ç‹¬ç«‹ä¸å…±äº«)ï¼Œä¸€ä¸ª BrowserContext å¯ä»¥åŒ…å«å¤šä¸ª Page\n\nPageï¼šè¡¨ç¤ºä¸€ä¸ª Tab é¡µé¢ï¼Œé€šè¿‡ browserContext.newPage()/browser.newPage() åˆ›å»ºï¼Œbrowser.newPage() åˆ›å»ºé¡µé¢æ—¶ä¼šä½¿ç”¨é»˜è®¤çš„ BrowserContextï¼Œä¸€ä¸ª Page å¯ä»¥åŒ…å«å¤šä¸ª Frame\n\nFrame: ä¸€ä¸ªæ¡†æ¶ï¼Œæ¯ä¸ªé¡µé¢æœ‰ä¸€ä¸ªä¸»æ¡†æ¶ï¼ˆpage.MainFrame()ï¼‰,ä¹Ÿå¯ä»¥å¤šä¸ªå­æ¡†æ¶ï¼Œä¸»è¦ç”± iframe æ ‡ç­¾åˆ›å»ºäº§ç”Ÿçš„\n\nExecutionContextï¼š æ˜¯ javascript çš„æ‰§è¡Œç¯å¢ƒï¼Œæ¯ä¸€ä¸ª Frame éƒ½ä¸€ä¸ªé»˜è®¤çš„ javascript æ‰§è¡Œç¯å¢ƒ\n\nElementHandle: å¯¹åº” DOM çš„ä¸€ä¸ªå…ƒç´ èŠ‚ç‚¹ï¼Œé€šè¿‡è¯¥è¯¥å®ä¾‹å¯ä»¥å®ç°å¯¹å…ƒç´ çš„ç‚¹å‡»ï¼Œå¡«å†™è¡¨å•ç­‰è¡Œä¸ºï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡é€‰æ‹©å™¨ï¼ŒxPath ç­‰æ¥è·å–å¯¹åº”çš„å…ƒç´ \n\nJsHandleï¼šå¯¹åº” DOM ä¸­çš„ javascript å¯¹è±¡ï¼ŒElementHandle ç»§æ‰¿äº JsHandleï¼Œç”±äºæˆ‘ä»¬æ— æ³•ç›´æ¥æ“ä½œ DOM ä¸­å¯¹è±¡ï¼Œæ‰€ä»¥å°è£…æˆ JsHandle æ¥å®ç°ç›¸å…³åŠŸèƒ½\n\nCDPSessionï¼šå¯ä»¥ç›´æ¥ä¸åŸç”Ÿçš„ CDP è¿›è¡Œé€šä¿¡ï¼Œé€šè¿‡ session.send å‡½æ•°ç›´æ¥å‘æ¶ˆæ¯ï¼Œé€šè¿‡ session.on æ¥æ”¶æ¶ˆæ¯ï¼Œå¯ä»¥å®ç° Puppeteer API ä¸­æ²¡æœ‰æ¶‰åŠçš„åŠŸèƒ½\n\nCoverageï¼šè·å– JavaScript å’Œ CSS ä»£ç è¦†ç›–ç‡\n\nTracingï¼šæŠ“å–æ€§èƒ½æ•°æ®è¿›è¡Œåˆ†æ\n\nResponseï¼š é¡µé¢æ”¶åˆ°çš„å“åº”\n\nRequestï¼š é¡µé¢å‘å‡ºçš„è¯·æ±‚\n")])])]),n("h3",{attrs:{id:"puppeteer-çš„åŸºæœ¬ä½¿ç”¨"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#puppeteer-çš„åŸºæœ¬ä½¿ç”¨"}},[t._v("#")]),t._v(" puppeteer çš„åŸºæœ¬ä½¿ç”¨")]),t._v(" "),n("p",[n("strong",[t._v("å®‰è£…ï¼š")]),n("code",[t._v("cnpm i --save puppeteer-core")])]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" puppeteer "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'puppeteer'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ‰“å¼€æµè§ˆå™¨")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" browser "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" puppeteer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("launch")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("headless"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ–°å»ºæ ‡ç­¾é¡µ")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" page "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" browser"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("newPage")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ ‡ç­¾é¡µè·³è½¬ç½‘å€")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" page"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("goto")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://example.com'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è‡ªå®šä¹‰æ“ä½œ(æˆªå±)")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" page"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("screenshot")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("path"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'example.png'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å…³é—­æµè§ˆå™¨")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" browser"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("close")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("h3",{attrs:{id:"puppeteer-æ“ä½œdomçˆ¬å–æ•°æ®è¿”å›"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#puppeteer-æ“ä½œdomçˆ¬å–æ•°æ®è¿”å›"}},[t._v("#")]),t._v(" puppeteer æ“ä½œdomçˆ¬å–æ•°æ®è¿”å›")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" puppeteer "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'puppeteer'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" browser "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" puppeteer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("launch")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("headless"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" page "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" browser"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("newPage")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" page"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("goto")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://example.com'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ“ä½œé¡µé¢domå¯¹è±¡æ–¹æ³•å¹¶æ¥å—è¿”å›å€¼(çˆ¬å–æ•°æ®)")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" result "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" page"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("evaluate")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è¿™é‡Œçš„ç¯å¢ƒæ˜¯æµè§ˆå™¨é¡µé¢ç¯å¢ƒ, å¦‚æœé¡µé¢æœ‰jqueryå¯¹è±¡, é‚£ä¹ˆè¿™é‡Œä¹Ÿå¯ä»¥ç”¨jqueryæ–¹æ³•")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è¯¥å‡½æ•°ä¸èƒ½è®¿é—®å¤–é¢çš„æ•°æ®, å› ä¸ºè¿™é‡Œçš„ç¯å¢ƒæ˜¯æµè§ˆå™¨ç¯å¢ƒ")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è¯¥å‡½æ•°æ‰§è¡Œå®Œæ¯•å, ä¼šè‡ªåŠ¨å…³é—­æµè§ˆå™¨é¡µé¢")]),t._v("\n    \n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// çˆ¬å–æ•°æ®")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" genre "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" $"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("map")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("$")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("\"[property='v:genre']\"")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("item")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" item"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("innerText"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å°†æ•°æ®è¿”å›")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" genre\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// çˆ¬å–å®Œæ¯•åresultåˆ™ç­‰äºgenre")]),t._v("\n\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ä¸‹é¢è¿˜å¯ä»¥æ ¹æ®çˆ¬å–çš„æ•°æ®åœ¨è¿›è¡Œé¡µé¢è·³è½¬å¹¶çˆ¬å–æ•°æ®, å¦‚æœæ˜¯æ•°ç»„è¿˜å¯ä»¥ç”¨foræ¥è¾¾åˆ°åŒæ­¥æ‰§è¡Œçš„æ•ˆæœ")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" page"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("goto")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://example.com'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  page"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("evaluate")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/*......*/")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  \n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" browser"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("close")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("h2",{attrs:{id:"ä¸ƒç‰›æœåŠ¡å™¨æ•°æ®ç®¡ç†"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ä¸ƒç‰›æœåŠ¡å™¨æ•°æ®ç®¡ç†"}},[t._v("#")]),t._v(" ä¸ƒç‰›æœåŠ¡å™¨æ•°æ®ç®¡ç†")]),t._v(" "),n("p",[t._v("ä¸ƒç‰›å¯¹è±¡å­˜å‚¨å°†æ•°æ®æ–‡ä»¶ä»¥èµ„æºçš„å½¢å¼ä¸Šä¼ åˆ°ç©ºé—´ä¸­ã€‚å¯ä»¥åˆ›å»ºä¸€ä¸ªæˆ–è€…å¤šä¸ªç©ºé—´ï¼Œç„¶åå‘æ¯ä¸ªç©ºé—´ä¸­ä¸Šä¼ ä¸€ä¸ªæˆ–å¤šä¸ªæ–‡ä»¶ã€‚é€šè¿‡è·å–å·²ä¸Šä¼ æ–‡ä»¶çš„åœ°å€è¿›è¡Œæ–‡ä»¶çš„åˆ†äº«å’Œä¸‹è½½ã€‚è¿˜å¯ä»¥é€šè¿‡ä¿®æ”¹å­˜å‚¨ç©ºé—´æˆ–æ–‡ä»¶çš„å±æ€§æˆ–å…ƒä¿¡æ¯æ¥è®¾ç½®ç›¸åº”çš„è®¿é—®æƒé™ã€‚"),n("a",{attrs:{href:"https://developer.qiniu.com/kodo",target:"_blank",rel:"noopener noreferrer"}},[t._v("å¯¹è±¡å‚¨å­˜äº§å“æ‰‹å†Œ"),n("OutboundLink")],1)]),t._v(" "),n("h3",{attrs:{id:"ç©ºé—´å›¾å½¢ç•Œé¢ä½¿ç”¨æ­¥éª¤"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ç©ºé—´å›¾å½¢ç•Œé¢ä½¿ç”¨æ­¥éª¤"}},[t._v("#")]),t._v(" ç©ºé—´å›¾å½¢ç•Œé¢ä½¿ç”¨æ­¥éª¤")]),t._v(" "),n("h4",{attrs:{id:"æ­¥éª¤ä¸€-åˆ›å»ºç©ºé—´"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#æ­¥éª¤ä¸€-åˆ›å»ºç©ºé—´"}},[t._v("#")]),t._v(" æ­¥éª¤ä¸€ï¼šåˆ›å»ºç©ºé—´")]),t._v(" "),n("p",[n("strong",[t._v("1. ç™»å½• "),n("a",{attrs:{href:"https://portal.qiniu.com/signin",target:"_blank",rel:"noopener noreferrer"}},[t._v("ä¸ƒç‰›å¼€å‘è€…å¹³å°"),n("OutboundLink")],1),t._v("ã€‚è¿›å…¥å­˜å‚¨ç©ºé—´ "),n("a",{attrs:{href:"https://portal.qiniu.com/bucket",target:"_blank",rel:"noopener noreferrer"}},[t._v("ç®¡ç†ç•Œé¢"),n("OutboundLink")],1)])]),t._v(" "),n("p",[n("img",{attrs:{src:"https://dn-odum9helk.qbox.me/Fvtqd7vo1AQyv2H9p9nqZRa8MqDs",alt:""}})]),t._v(" "),n("p",[n("strong",[t._v("2. "),n("a",{attrs:{href:"https://portal.qiniu.com/bucket/create",target:"_blank",rel:"noopener noreferrer"}},[t._v("æ–°å»ºå­˜å‚¨ç©ºé—´"),n("OutboundLink")],1)])]),t._v(" "),n("p",[n("img",{attrs:{src:"https://dn-odum9helk.qbox.me/FihUPil_2gswxkXryUHN6jWutB8g",alt:""}})]),t._v(" "),n("p",[n("a",{attrs:{href:"%E5%9B%A0%E4%B8%BA%E6%97%B6%E9%97%B4%E6%88%B3%E7%9A%84%E5%88%9B%E5%BB%BA%E5%92%8C%E9%AA%8C%E8%AF%81%E5%9C%A8%E4%B8%8D%E5%90%8C%E7%9A%84%E6%9C%8D%E5%8A%A1%E7%AB%AF%E8%BF%9B%E8%A1%8C%EF%BC%88%E5%9C%A8%E4%B8%9A%E5%8A%A1%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%88%9B%E5%BB%BA%EF%BC%8C%E5%9C%A8%E4%BA%91%E5%AD%98%E5%82%A8%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%AA%8C%E8%AF%81%EF%BC%89%EF%BC%8C%E5%9B%A0%E6%AD%A4%E5%BC%80%E5%8F%91%E8%80%85%E7%9A%84%E4%B8%9A%E5%8A%A1%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%9C%80%E8%A6%81%E5%B0%BD%E5%8F%AF%E8%83%BD%E6%A0%A1%E5%87%86%E6%97%B6%E9%97%B4%EF%BC%8C%E5%90%A6%E5%88%99%E5%8F%AF%E8%83%BD%E5%87%BA%E7%8E%B0%E5%87%AD%E8%AF%81%E5%88%9A%E5%88%9B%E5%BB%BA%E5%B0%B1%E8%BF%87%E6%9C%9F%E7%AD%89%E5%90%84%E7%A7%8D%E5%A5%87%E6%80%AA%E7%9A%84%E9%97%AE%E9%A2%98%E3%80%82"}},[t._v("^æ³¨æ„")]),t._v(": å¦‚æœæ‚¨æ˜¯ä½“éªŒç”¨æˆ·ï¼Œæ–°å»ºå­˜å‚¨ç©ºé—´æ—¶ï¼Œä¼šé‡åˆ° â€œæ–°å»ºå­˜å‚¨ç©ºé—´å¤±è´¥ï¼Œè¯·å…ˆå®åè®¤è¯â€")]),t._v(" "),n("p",[n("strong",[t._v("3. åˆ›å»ºæˆåŠŸååœ¨ å†…å®¹ç®¡ç† æ ç›®ä¸­å¯ä»¥ä¸Šä¼ ã€ä¸‹è½½ã€è®¿é—®ã€ä¿®æ”¹èµ„æºç­‰æ“ä½œã€‚")])]),t._v(" "),n("p",[n("img",{attrs:{src:"https://dn-odum9helk.qbox.me/FvHsoIbaXlQUHhniZ3tuIfSp9pW7",alt:""}})]),t._v(" "),n("h4",{attrs:{id:"æ­¥éª¤äºŒ-ä¸Šä¼ æ–‡ä»¶"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#æ­¥éª¤äºŒ-ä¸Šä¼ æ–‡ä»¶"}},[t._v("#")]),t._v(" æ­¥éª¤äºŒï¼šä¸Šä¼ æ–‡ä»¶")]),t._v(" "),n("p",[t._v("å·²ç»åˆ›å»ºäº†ç©ºé—´ï¼Œå°±å¯ä»¥å‘ç©ºé—´é‡Œä¸Šä¼ èµ„æºã€‚èµ„æºå¯ä»¥æ˜¯ä»»æ„çš„æ–‡ä»¶ï¼šæ–‡æ¡£ï¼Œç…§ç‰‡ï¼Œè§†é¢‘ï¼ŒéŸ³ä¹æ–‡ä»¶ï¼Œæˆ–å…¶å®ƒæ–‡ä»¶ç±»å‹ã€‚")]),t._v(" "),n("p",[n("strong",[t._v("å†…å®¹ç®¡ç† --\x3e ä¸Šä¼ æ–‡ä»¶")])]),t._v(" "),n("p",[n("img",{attrs:{src:"https://dn-odum9helk.qbox.me/FnFEcvAyUeGGjv1AvM0iNXc6qk-a",alt:""}})]),t._v(" "),n("h4",{attrs:{id:"æ­¥éª¤ä¸‰-ä¸‹è½½æ–‡ä»¶"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#æ­¥éª¤ä¸‰-ä¸‹è½½æ–‡ä»¶"}},[t._v("#")]),t._v(" æ­¥éª¤ä¸‰ï¼šä¸‹è½½æ–‡ä»¶")]),t._v(" "),n("p",[t._v("æ·»åŠ äº†æ–‡ä»¶åˆ°ç©ºé—´ï¼Œå°±å¯ä»¥é€šè¿‡å›¾å½¢ç•Œé¢æ‰“å¼€å’ŒæŸ¥çœ‹å®ƒã€‚æ‚¨ä¹Ÿå¯ä»¥ä¸‹è½½è¯¥æ–‡ä»¶åˆ°æ‚¨çš„æœ¬åœ°è®¡ç®—æœºã€‚")]),t._v(" "),n("p",[n("strong",[t._v("å†…å®¹ç®¡ç† --\x3e å³ä¾§èµ„æºç‚¹å‡»'...', ç‚¹å‡»ä¸‹è½½æ–‡ä»¶")])]),t._v(" "),n("p",[n("img",{attrs:{src:"https://dn-odum9helk.qbox.me/FoTIhsjMdq0Br2OtVIVuwULhehHv",alt:""}})]),t._v(" "),n("h4",{attrs:{id:"æ­¥éª¤å››-åˆ é™¤æ–‡ä»¶"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#æ­¥éª¤å››-åˆ é™¤æ–‡ä»¶"}},[t._v("#")]),t._v(" æ­¥éª¤å››ï¼šåˆ é™¤æ–‡ä»¶")]),t._v(" "),n("p",[t._v("å¦‚æœä¸å†éœ€è¦æŠŠä¸Šä¼ çš„æ–‡ä»¶ä¿å­˜åœ¨ä¸ƒç‰›ç©ºé—´ä¸­ï¼Œæ‚¨å¯ä»¥åˆ é™¤å®ƒã€‚")]),t._v(" "),n("p",[n("strong",[t._v("å†…å®¹ç®¡ç† --\x3e å³ä¾§èµ„æºç‚¹å‡»'...', ç‚¹å‡»åˆ é™¤æ–‡ä»¶")])]),t._v(" "),n("p",[n("img",{attrs:{src:"https://dn-odum9helk.qbox.me/FoTIhsjMdq0Br2OtVIVuwULhehHv",alt:""}})]),t._v(" "),n("h4",{attrs:{id:"æ­¥éª¤äº”-åˆ é™¤ç©ºé—´"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#æ­¥éª¤äº”-åˆ é™¤ç©ºé—´"}},[t._v("#")]),t._v(" æ­¥éª¤äº”ï¼šåˆ é™¤ç©ºé—´")]),t._v(" "),n("p",[t._v("å¦‚æœä¸éœ€è¦ä¹‹å‰åˆ›å»ºçš„ç©ºé—´ï¼Œå¯ä»¥åˆ é™¤å®ƒã€‚")]),t._v(" "),n("p",[n("img",{attrs:{src:"https://dn-odum9helk.qbox.me/Fs54zF7X1aPla7MJr651na9KItpM",alt:""}})]),t._v(" "),n("h3",{attrs:{id:"ç¼–ç¨‹æ¨¡å‹"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ç¼–ç¨‹æ¨¡å‹"}},[t._v("#")]),t._v(" ç¼–ç¨‹æ¨¡å‹")]),t._v(" "),n("p",[t._v("ä»¥ä¿æŠ¤æ•°æ®å®‰å…¨å’Œè€ƒè™‘æ¶æ„åˆç†æ€§ä¸ºå‡ºå‘ç‚¹ï¼Œä¸ƒç‰›äº‘å­˜å‚¨æœåŠ¡å¯¹å¦‚ä½•è¿›è¡Œå¼€å‘æä¾›äº†ä¸€äº›è®¾è®¡å’Œç¼–ç å»ºè®®ã€‚å¸Œæœ›å¼€å‘è€…åœ¨ä½¿ç”¨ä¸ƒç‰›äº‘å­˜å‚¨æœåŠ¡ä¹‹å‰è¯¦ç»†é˜…è¯»è¿™äº›å»ºè®®ï¼Œå¹¶å°½å¯èƒ½çš„ç¬¦åˆè¿™äº›åŸåˆ™ï¼Œä»¥å…é€ æˆä¸å¿…è¦çš„æ—¶é—´æµªè´¹å’Œå¸¦æ¥æ•°æ®å®‰å…¨é£é™©ã€‚")]),t._v(" "),n("h4",{attrs:{id:"åŸºæœ¬ç»“æ„"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#åŸºæœ¬ç»“æ„"}},[t._v("#")]),t._v(" åŸºæœ¬ç»“æ„")]),t._v(" "),n("p",[t._v("åŸºäºä¸ƒç‰›äº‘å­˜å‚¨æœåŠ¡æ„å»ºçš„åº”ç”¨ï¼Œå»ºè®®ä½¿ç”¨å¦‚ä¸‹åŸºæœ¬æ¶æ„ï¼š")]),t._v(" "),n("p",[n("img",{attrs:{src:"https://dn-odum9helk.qbox.me/FuAHhZgiYaHTDqLritFe1K85AVrI",alt:""}})]),t._v(" "),n("h4",{attrs:{id:"ä¸šåŠ¡æµç¨‹"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ä¸šåŠ¡æµç¨‹"}},[t._v("#")]),t._v(" ä¸šåŠ¡æµç¨‹")]),t._v(" "),n("p",[t._v("**ä¸Šä¼ ï¼š**å®¢æˆ·ç«¯åœ¨ä¸Šä¼ èµ„æºåˆ°ä¸ƒç‰›äº‘å­˜å‚¨ä¹‹å‰è¦å…ˆä»ä¸šåŠ¡æœåŠ¡å™¨è·å–ä¸€ä¸ªæœ‰æ•ˆçš„"),n("a",{attrs:{href:"https://developer.qiniu.com/kodo/manual/1208/upload-token",target:"_blank",rel:"noopener noreferrer"}},[t._v("ä¸Šä¼ å‡­è¯"),n("OutboundLink")],1),t._v("ï¼Œå› æ­¤éœ€è¦å…ˆåå’Œä¸¤ä¸ªæœåŠ¡ç«¯æ‰“äº¤é“ã€‚")]),t._v(" "),n("p",[n("img",{attrs:{src:"https://dn-odum9helk.qbox.me/Fmy1Y_s9I4oCPYuMGDrvYxCRv2FM",alt:""}})]),t._v(" "),n("p",[t._v("å¦‚æœæœ‰è®¾ç½®å›è°ƒï¼Œåˆ™ä¸Šä¼ å®Œæˆæ—¶ä¸ƒç‰›äº‘å­˜å‚¨ä¼šè‡ªåŠ¨å‘èµ·å›è°ƒåˆ°æŒ‡å®šçš„ä¸šåŠ¡æœåŠ¡å™¨ã€‚")]),t._v(" "),n("p",[n("img",{attrs:{src:"https://dn-odum9helk.qbox.me/FkPZ31ECmtGnEisOahMKc5kQkuRr",alt:""}})]),t._v(" "),n("p",[t._v("**ä¸‹è½½ï¼š**å…¬å¼€èµ„æºä¸éœ€è¦å¯¹åº”çš„ä¸‹è½½å‡­è¯ï¼Œå®¢æˆ·ç«¯å¯ä»¥ç›´æ¥ä»ä¸ƒç‰›äº‘å­˜å‚¨ä¸‹è½½å¯¹åº”èµ„æºã€‚ç§æœ‰èµ„æºéœ€è¦å¯¹åº”çš„ä¸‹è½½å‡­è¯ï¼Œå› æ­¤å¿…é¡»å…ˆå’Œä¸šåŠ¡æœåŠ¡å™¨æ‰“äº¤é“ã€‚")]),t._v(" "),n("p",[t._v("æŒ‰ç…§å®é™…çš„ä½¿ç”¨åœºæ™¯ï¼Œå®¢æˆ·ç«¯å¯¹äºå†…å®¹çš„å±•ç¤ºéå¸¸ç±»ä¼¼ä¸€ä¸ªåŠ¨æ€ç½‘é¡µçš„ç”Ÿæˆè¿‡ç¨‹ï¼Œå› æ­¤æ— è®ºè¯¥é¡µé¢å†…å®¹æ˜¯å…¬å¼€è¿˜æ˜¯ç§æœ‰ï¼Œå‡éœ€è¦ä»ä¸šåŠ¡æœåŠ¡å™¨è·å–å±•ç¤ºè¯¥é¡µé¢çš„åŠ¨æ€å¸ƒå±€ä¿¡æ¯ã€‚æ‰€ä»¥é€šå¸¸æ˜¾ç¤ºè¿‡ç¨‹ä¹Ÿæ˜¯éœ€è¦å…ˆåå’Œä¸šåŠ¡æœåŠ¡å™¨åŠä¸ƒç‰›äº‘å­˜å‚¨æœåŠ¡æ‰“äº¤é“ã€‚")]),t._v(" "),n("h4",{attrs:{id:"å…³é”®åŸåˆ™"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#å…³é”®åŸåˆ™"}},[t._v("#")]),t._v(" å…³é”®åŸåˆ™")]),t._v(" "),n("ul",[n("li",[t._v("æ•´ä¸ªæ¶æ„ä¸­éœ€è¦ä¸€ä¸ªä¸šåŠ¡æœåŠ¡å™¨ç»„ä»¶ã€‚")]),t._v(" "),n("li",[t._v("æ— è®ºå¦‚ä½•ï¼Œ"),n("a",{attrs:{href:"https://developer.qiniu.com/af/kb/1334",target:"_blank",rel:"noopener noreferrer"}},[t._v("è®¿é—®å¯†é’¥ï¼ˆAK/SKï¼‰"),n("OutboundLink")],1),t._v("å‡ä¸å¾—åŒ…å«åœ¨å®¢æˆ·ç«¯çš„åˆ†å‘åŒ…ä¸­ï¼ˆå¦‚äºŒè¿›åˆ¶ä»£ç ã€é…ç½®æ–‡ä»¶æˆ–ç½‘é¡µä¸­ï¼‰ã€‚")]),t._v(" "),n("li",[t._v("SecretKeyä¸å¾—åœ¨ä»»ä½•åœºæ™¯ä¸­çš„å…¬ç½‘ä¸Šä¼ è¾“ï¼Œæ›´ä¸å¾—ä¼ è¾“åˆ°å®¢æˆ·ç«¯ã€‚")]),t._v(" "),n("li",[t._v("ä¸šåŠ¡æœåŠ¡å™¨ç«¯åº”ç»´æŒä¸€ä¸ªç”¨äºç®¡ç†èµ„æºå…ƒæ•°æ®çš„æ•°æ®åº“å’Œä¸€ä¸ªç”¨äºç®¡ç†æœ€ç»ˆç”¨æˆ·è´¦å·ä¿¡æ¯çš„æ•°æ®åº“ã€‚")]),t._v(" "),n("li",[t._v("åŸåˆ™ä¸Šå®¢æˆ·ç«¯å’Œä¸ƒç‰›äº‘å­˜å‚¨ä¹‹é—´çš„äº¤äº’åªæœ‰ä¸Šä¼ å’Œä¸‹è½½ï¼Œä¸åº”ä½¿ç”¨ä»»ä½•å…¶ä»–çš„APIã€‚")])]),t._v(" "),n("h3",{attrs:{id:"å®‰å…¨æœºåˆ¶"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#å®‰å…¨æœºåˆ¶"}},[t._v("#")]),t._v(" å®‰å…¨æœºåˆ¶")]),t._v(" "),n("p",[t._v("æ•°æ®å®‰å…¨æ€§æ˜¯äº‘å­˜å‚¨æœåŠ¡çš„é‡ä¸­ä¹‹é‡ã€‚äº‘å­˜å‚¨çš„å®‰å…¨æœºåˆ¶ä¸»è¦éœ€è¦è€ƒè™‘ä»¥ä¸‹å‡ ä¸ªå› ç´ ï¼š")]),t._v(" "),n("ul",[n("li",[t._v("å¦‚ä½•åˆ¤æ–­è¯¥è¯·æ±‚æ–¹æ˜¯å¦åˆæ³•ï¼Œä¸”å¯¹ç›®æ ‡ç©ºé—´æœ‰ç›¸åº”çš„è®¿é—®æƒé™ã€‚")]),t._v(" "),n("li",[t._v("å› ä¸ºæœåŠ¡çš„è®¿é—®åè®®åŒæ—¶æ”¯æŒ HTTP å’Œ HTTPSï¼ŒæœåŠ¡ç«¯éœ€è¦åˆ¤æ–­æ”¶åˆ°çš„è¯·æ±‚æ˜¯å¦ç»è¿‡ç¯¡æ”¹ã€‚")]),t._v(" "),n("li",[t._v("ç›¸æ¯”ä¸Šä¼ æ–°èµ„æºï¼Œè¦†ç›–æ–‡ä»¶æˆ–åˆ é™¤å·²æœ‰èµ„æºæ‹¥æœ‰æ›´é«˜çš„é£é™©ã€‚å› æ­¤å¯¹ä¸Šä¼ æˆ–ä¿®æ”¹åŠ¨ä½œï¼Œéœ€è¦ç¡®è®¤è¯·æ±‚æ–¹æ˜¯å¦æ‹¥æœ‰ä¿®æ”¹æˆ–åˆ é™¤çš„æƒé™ã€‚")])]),t._v(" "),n("p",[t._v("éœ€è¦è€ƒè™‘å®‰å…¨æœºåˆ¶çš„åœºæ™¯ä¸»è¦æœ‰å¦‚ä¸‹å‡ ç§ï¼š"),n("strong",[t._v("ä¸Šä¼ èµ„æºã€è®¿é—®èµ„æºã€ç®¡ç†å’Œä¿®æ”¹èµ„æº")])]),t._v(" "),n("p",[t._v("å› ä¸ºå‡­è¯çš„ç”Ÿæˆéœ€è¦ç”¨åˆ°"),n("a",{attrs:{href:"https://developer.qiniu.com/kodo/manual/1644/security#aksk",target:"_blank",rel:"noopener noreferrer"}},[t._v("SecretKey"),n("OutboundLink")],1),t._v("ï¼Œå› æ­¤è¯¥ç”ŸæˆåŠ¨ä½œä¸åº”åœ¨ä¸å—ä¿¡ä»»çš„ç¯å¢ƒä¸­è¿›è¡Œã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¼€å‘è€…ç»ä¸èƒ½å°†å¯†é’¥åŒ…å«åœ¨åˆ†å‘ç»™æœ€ç»ˆç”¨æˆ·çš„ç¨‹åºä¸­ï¼Œæ— è®ºæ˜¯åŒ…å«åœ¨é…ç½®æ–‡ä»¶ä¸­è¿˜æ˜¯äºŒè¿›åˆ¶æ–‡ä»¶ä¸­éƒ½ä¼šå¸¦æ¥éå¸¸å¤§çš„å¯†é’¥æ³„æ¼é£é™©ã€‚")]),t._v(" "),n("p",[t._v("ä¸ƒç‰›äº‘å­˜å‚¨æ¨èçš„æ¨¡å‹å¦‚ä¸‹æ‰€ç¤ºï¼š")]),t._v(" "),n("p",[n("img",{attrs:{src:"https://dn-odum9helk.qbox.me/Fi5KMuul0usiNB7_OyofIjVw-K2e",alt:""}})]),t._v(" "),n("h4",{attrs:{id:"å¯†é’¥-accesskey-secretkey"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#å¯†é’¥-accesskey-secretkey"}},[t._v("#")]),t._v(" å¯†é’¥ï¼ˆAccessKey/SecretKeyï¼‰")]),t._v(" "),n("p",[t._v("å¯†é’¥ç”¨äºä»¥ä¸Šå‡ ç§å‡­è¯çš„ç”Ÿæˆã€‚ä»¥ SecretKey ä¸ºå‚æ•°ï¼Œé…åˆé€‚å½“çš„ç­¾åç®—æ³•ï¼Œå¯ä»¥å¾—åˆ°åŸå§‹ä¿¡æ¯çš„æ•°å­—ç­¾åï¼Œé˜²æ­¢å†…å®¹åœ¨ä¼ é€’è¿‡ç¨‹ä¸­è¢«ä¼ªé€ æˆ–ç¯¡æ”¹ã€‚")]),t._v(" "),n("p",[t._v("å¯†é’¥é€šå¸¸æ˜¯æˆå¯¹åˆ›å»ºå’Œä½¿ç”¨ï¼ŒåŒ…å«ä¸€ä¸ª AccessKey å’Œä¸€ä¸ª SecretKeyã€‚å…¶ä¸­ AccessKey ä¼šåœ¨ä¼ è¾“ä¸­åŒ…å«ï¼Œè€Œç”¨æˆ·å¿…é¡»ä¿ç®¡å¥½ SecretKey ä¸åœ¨ç½‘ç»œä¸Šä¼ è¾“ä»¥é˜²æ­¢è¢«çªƒå–ã€‚è‹¥ SecretKey è¢«æ¶æ„ç¬¬ä¸‰æ–¹çªƒå–ï¼Œå¯èƒ½å¯¼è‡´éå¸¸ä¸¥é‡çš„æ•°æ®æ³„æ¼é£é™©ã€‚å› æ­¤ï¼Œå¦‚å‘ç° SecretKey è¢«éæ³•ä½¿ç”¨ï¼Œç®¡ç†å‘˜åº”ç¬¬ä¸€æ—¶é—´åœ¨ä¸ƒç‰›å¼€å‘è€…å¹³å°çš„"),n("a",{attrs:{href:"https://portal.qiniu.com/user/key",target:"_blank",rel:"noopener noreferrer"}},[t._v("å¯†é’¥ç®¡ç†"),n("OutboundLink")],1),t._v("ä¸­æ›´æ¢å¯†é’¥ã€‚")]),t._v(" "),n("h4",{attrs:{id:"ä¸Šä¼ å‡­è¯-uploadtoken"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ä¸Šä¼ å‡­è¯-uploadtoken"}},[t._v("#")]),t._v(" ä¸Šä¼ å‡­è¯ï¼ˆUploadTokenï¼‰")]),t._v(" "),n("p",[t._v("å®¢æˆ·ç«¯ä¸Šä¼ å‰éœ€è¦å…ˆè·å–ä»æœåŠ¡ç«¯é¢å‘çš„ä¸Šä¼ å‡­è¯ï¼Œå¹¶åœ¨ä¸Šä¼ èµ„æºæ—¶å°†ä¸Šä¼ å‡­è¯åŒ…å«ä¸ºè¯·æ±‚å†…å®¹çš„ä¸€éƒ¨åˆ†ã€‚ä¸å¸¦å‡­è¯æˆ–å¸¦éæ³•å‡­è¯çš„è¯·æ±‚å°†è¿”å› HTTP é”™è¯¯ç  401ï¼Œä»£è¡¨è®¤è¯å¤±è´¥ã€‚å…³äºä¸Šä¼ ç­–ç•¥å’Œä¸Šä¼ å‡­è¯çš„ç”Ÿæˆç»†èŠ‚ï¼Œè¯·æŸ¥é˜…"),n("a",{attrs:{href:"https://developer.qiniu.com/kodo/manual/1208/upload-token",target:"_blank",rel:"noopener noreferrer"}},[t._v("ä¸Šä¼ å‡­è¯"),n("OutboundLink")],1),t._v("ã€‚")]),t._v(" "),n("p",[n("strong",[t._v("ç”Ÿæˆä¸Šä¼ å‡­è¯æ—¶éœ€è¦æŒ‡å®šä»¥ä¸‹è¦ç´ ï¼š")])]),t._v(" "),n("ul",[n("li",[n("p",[t._v("æƒé™ï¼ŒæŒ‡å®šä¸Šä¼ çš„ç›®æ ‡ç©ºé—´æˆ–å…è®¸è¦†ç›–çš„æŒ‡å®šèµ„æºã€‚")])]),t._v(" "),n("li",[n("p",[t._v("å‡­è¯æœ‰æ•ˆæœŸï¼Œå³ä¸€ä¸ªç¬¦åˆ"),n("a",{attrs:{href:"https://developer.qiniu.com/kodo/glossary/1647/u",target:"_blank",rel:"noopener noreferrer"}},[t._v("Unixæ—¶é—´æˆ³"),n("OutboundLink")],1),t._v("è§„èŒƒçš„æ•°å€¼ï¼Œå•ä½ä¸ºç§’ã€‚")])]),t._v(" "),n("li",[n("p",[t._v("å¯é€‰æ‹©è®¾ç½®çš„æœ€ç»ˆç”¨æˆ·æ ‡è¯† IDã€‚è¿™æ˜¯ä¸ºäº†è®©ä¸šåŠ¡æœåŠ¡å™¨åœ¨æ”¶åˆ°ç»“æœå›è°ƒæ—¶èƒ½å¤Ÿè¯†åˆ«äº§ç”Ÿè¯¥è¯·æ±‚çš„æœ€ç»ˆç”¨æˆ·ä¿¡æ¯ã€‚")])])]),t._v(" "),n("h4",{attrs:{id:"ä¸‹è½½å‡­è¯-downloadtoken"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ä¸‹è½½å‡­è¯-downloadtoken"}},[t._v("#")]),t._v(" ä¸‹è½½å‡­è¯ï¼ˆDownloadTokenï¼‰")]),t._v(" "),n("p",[t._v("ä¸‹è½½ç§æœ‰èµ„æºçš„è¯·æ±‚éœ€è¦å¸¦ä¸€ä¸ªåˆæ³•çš„ä¸‹è½½å‡­è¯ã€‚ä¸å¸¦å‡­è¯æˆ–å¸¦éæ³•å‡­è¯çš„è¯·æ±‚å°†è¿”å› HTTP é”™è¯¯ç  401ï¼Œä»£è¡¨è®¤è¯å¤±è´¥ã€‚å…³äºä¸‹è½½å‡­è¯çš„ç”Ÿæˆç»†èŠ‚ï¼Œè¯·æŸ¥é˜…"),n("a",{attrs:{href:"https://developer.qiniu.com/kodo/manual/1202/download-token",target:"_blank",rel:"noopener noreferrer"}},[t._v("ä¸‹è½½å‡­è¯"),n("OutboundLink")],1),t._v("ã€‚")]),t._v(" "),n("p",[t._v("ä¸ä¸Šä¼ å‡­è¯ç›¸æ¯”ï¼Œä¸‹è½½å‡­è¯çš„ä½œç”¨æ¯”è¾ƒç®€å•ï¼š")]),t._v(" "),n("ul",[n("li",[t._v("ä¿è¯è¯·æ±‚å‘èµ·è€…æ‹¥æœ‰å¯¹ç›®æ ‡ç©ºé—´çš„è®¿é—®æƒé™ã€‚")]),t._v(" "),n("li",[t._v("ä¿è¯æœåŠ¡ç«¯æ”¶åˆ°çš„ä¸‹è½½è¯·æ±‚å†…å®¹æœªç»ä¸­é€”ç¯¡æ”¹ï¼Œå…·ä½“åŒ…æ‹¬ç›®æ ‡èµ„æºçš„ URI å’Œè¯¥è®¿é—®è¯·æ±‚çš„æœ‰æ•ˆæœŸä¿¡æ¯å‡åº”æœªå—åˆ°ç¯¡æ”¹ã€‚")])]),t._v(" "),n("h4",{attrs:{id:"ç®¡ç†å‡­è¯-accesstoken"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ç®¡ç†å‡­è¯-accesstoken"}},[t._v("#")]),t._v(" ç®¡ç†å‡­è¯ï¼ˆAccessTokenï¼‰")]),t._v(" "),n("p",[t._v("åœ¨ç®¡ç†ç°æœ‰èµ„æºæ—¶ï¼Œä¾‹å¦‚æŸ¥çœ‹èµ„æºå…ƒæ•°æ®ã€åˆ é™¤æˆ–ç§»åŠ¨èµ„æºç­‰ï¼Œé€šå¸¸éœ€è¦å¸¦ä¸€ä¸ªåˆæ³•çš„ç®¡ç†å‡­è¯ã€‚ä¸å¸¦å‡­è¯æˆ–å¸¦éæ³•å‡­è¯çš„ç®¡ç†è¯·æ±‚å°†è¿”å› HTTP é”™è¯¯ç  401ï¼Œä»£è¡¨è®¤è¯å¤±è´¥ã€‚å…³äºç®¡ç†å‡­è¯çš„ç”Ÿæˆç»†èŠ‚ï¼Œè¯·æŸ¥é˜…"),n("a",{attrs:{href:"https://developer.qiniu.com/kodo/manual/1201/access-token",target:"_blank",rel:"noopener noreferrer"}},[t._v("ç®¡ç†å‡­è¯"),n("OutboundLink")],1),t._v("ã€‚")]),t._v(" "),n("p",[t._v("ç®¡ç†å‡­è¯çš„ä½œç”¨ä¸ä¸‹è½½å‡­è¯æ¯”è¾ƒç±»ä¼¼ï¼š")]),t._v(" "),n("ul",[n("li",[t._v("ä¿è¯è¯·æ±‚å‘èµ·è€…æ‹¥æœ‰å¯¹ç›®æ ‡ç©ºé—´çš„ç®¡ç†æƒé™ã€‚")]),t._v(" "),n("li",[t._v("ä¿è¯æœåŠ¡ç«¯æ”¶åˆ°çš„ç®¡ç†è¯·æ±‚å†…å®¹æœªç»ä¸­é€”ç¯¡æ”¹ï¼Œå…·ä½“åŒ…æ‹¬ä»£è¡¨ç®¡ç†åŠ¨ä½œçš„ URI å’Œè¯¥ç®¡ç†åŠ¨ä½œçš„å‚æ•°ä¿¡æ¯å‡åº”æœªå—åˆ°ç¯¡æ”¹ã€‚")])]),t._v(" "),n("h4",{attrs:{id:"é˜²ç›—é“¾"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#é˜²ç›—é“¾"}},[t._v("#")]),t._v(" é˜²ç›—é“¾")]),t._v(" "),n("p",[t._v("ä¸‹è½½è¿˜æœ‰ä¸€ç§å¸¸è§çš„åœºæ™¯ï¼Œå³å…¬å¼€èµ„æºçš„é˜²ç›—é“¾ï¼Œä¾‹å¦‚ç¦æ­¢ç‰¹å®šæ¥æºåŸŸåçš„è®¿é—®ï¼Œç¦æ­¢éæµè§ˆå™¨å‘èµ·çš„è®¿é—®ç­‰ã€‚\nå¯ä»¥é€šè¿‡ HTTP åè®®æ”¯æŒçš„ Referer æœºåˆ¶å³"),n("a",{attrs:{href:"https://developer.qiniu.com/kodo/glossary/1643/h",target:"_blank",rel:"noopener noreferrer"}},[t._v("HTTP Referer"),n("OutboundLink")],1),t._v("æ¥è¿›è¡Œç›¸åº”çš„æ¥æºè¯†åˆ«å’Œç®¡ç†ã€‚\né˜²ç›—é“¾æ˜¯ä¸€ä¸ªç³»ç»Ÿè®¾ç½®ï¼Œä¸å½±å“å¼€å‘å·¥ä½œã€‚å¦‚å‘ç°æœ‰ç›—é“¾æƒ…å†µï¼Œåœ¨"),n("a",{attrs:{href:"https://portal.qiniu.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("ä¸ƒç‰›å¼€å‘è€…å¹³å°"),n("OutboundLink")],1),t._v("é‡Œçš„ "),n("strong",[t._v("èåˆCDNåŠ é€Ÿ")]),t._v(" ä¸­çš„ "),n("strong",[t._v("é«˜çº§é…ç½®")]),t._v("è¿›è¡Œè®¾ç½®ã€‚")]),t._v(" "),n("h4",{attrs:{id:"è·¨åŸŸè®¿é—®"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#è·¨åŸŸè®¿é—®"}},[t._v("#")]),t._v(" è·¨åŸŸè®¿é—®")]),t._v(" "),n("p",[t._v("å‡ºäºå®‰å…¨çš„è€ƒè™‘ï¼ŒWeb æµè§ˆå™¨ä»å¾ˆæ—©ä¹‹å‰å°±å®šä¸‹åŒåŸŸå®‰å…¨ç­–ç•¥çš„æ ‡å‡†ï¼Œé»˜è®¤æƒ…å†µä¸‹åŒä¸€åŸŸåä¸‹çš„é¡µé¢åªèƒ½å‘åŒåŸŸï¼ˆåŒ…æ‹¬ CNAME åŸŸåã€ç«¯å£ï¼‰ä¸‹çš„ URL å‘é€æ‰€æœ‰ç±»å‹çš„ HTTP è¯·æ±‚ã€‚è€Œå‘ä¸åŒåŸŸçš„åœ°å€å‘é€é GET è¯·æ±‚æ—¶ï¼Œé»˜è®¤æƒ…å†µä¸‹åªèƒ½è¿”å›åŒåŸŸå®‰å…¨ç­–ç•¥é”™è¯¯ã€‚")]),t._v(" "),n("p",[t._v("å¯¹æ­¤ï¼Œåœ¨å‘èµ·ä¸Šä¼ æˆ–ä¸‹è½½è¯·æ±‚çš„æ—¶å€™ï¼ŒæœåŠ¡ä¼šè¿”å›ç›¸åº”çš„æ”¯æŒè·¨åŸŸçš„ Headerï¼š")]),t._v(" "),n("p",[t._v("ä¸Šä¼ ("),n("code",[t._v("upload.qiniup.com")]),t._v(")")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("Access-Control-Allow-Headers: X-File-Name, X-File-Type, X-File-Size\nAccess-Control-Allow-Methods: OPTIONS, HEAD, POST\nAccess-Control-Allow-Origin: *\n")])])]),n("p",[t._v("ä¸‹è½½("),n("code",[t._v(".qiniudn.com")]),t._v(")")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("Access-Control-Allow-Origin: *\n")])])]),n("h2",{attrs:{id:"ä¸ƒç‰›æœåŠ¡å™¨-qiniu-sdk"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ä¸ƒç‰›æœåŠ¡å™¨-qiniu-sdk"}},[t._v("#")]),t._v(" ä¸ƒç‰›æœåŠ¡å™¨ QINIU-SDK")]),t._v(" "),n("p",[t._v("æ­¤ SDK é€‚ç”¨äº Node.js v4 åŠä»¥ä¸Šç‰ˆæœ¬ã€‚ä½¿ç”¨æ­¤ SDK æ„å»ºç½‘ç»œåº”ç”¨ç¨‹åºï¼Œèƒ½ä»¥éå¸¸ä¾¿æ·çš„æ–¹å¼å°†æ•°æ®å®‰å…¨åœ°å­˜å‚¨åˆ°ä¸ƒç‰›äº‘ä¸Šã€‚æ— è®ºç½‘ç»œåº”ç”¨æ˜¯ä¸€ä¸ªç½‘ç«™ç¨‹åºï¼Œè¿˜æ˜¯åŒ…æ‹¬ä»äº‘ç«¯ï¼ˆæœåŠ¡ç«¯ç¨‹åºï¼‰åˆ°ç»ˆç«¯ï¼ˆæ‰‹æŒè®¾å¤‡åº”ç”¨ï¼‰çš„æ¶æ„æœåŠ¡å’Œåº”ç”¨ï¼Œé€šè¿‡ä¸ƒç‰›äº‘åŠå…¶ SDKï¼Œéƒ½èƒ½è®©åº”ç”¨ç¨‹åºçš„ç»ˆç«¯ç”¨æˆ·é«˜é€Ÿä¸Šä¼ å’Œä¸‹è½½ï¼ŒåŒæ—¶ä¹Ÿè®©æœåŠ¡ç«¯æ›´åŠ è½»ç›ˆã€‚"),n("a",{attrs:{href:"https://developer.qiniu.com/kodo/sdk/1289/nodejs",target:"_blank",rel:"noopener noreferrer"}},[t._v("å®˜æ–¹Node.js SDKæ–‡æ¡£"),n("OutboundLink")],1)]),t._v(" "),n("p",[n("strong",[t._v("å®‰è£…ï¼š")]),n("code",[t._v("cnpm install qiniu --save-dev")])]),t._v(" "),n("p",[t._v("**è·å–AccessKey / SecretKeyï¼š**å®˜ç½‘=>ç®¡ç†æ§åˆ¶å°=>ä¸ªäººä¿¡æ¯=>å¯†åŒ™ç®¡ç†")]),t._v(" "),n("p",[t._v("**è·å–å¯¹åº”å‚¨å­˜åŒºåŸŸç®€ç§°ï¼š**https://developer.qiniu.com/kodo/manual/1671/region-endpoint")]),t._v(" "),n("h3",{attrs:{id:"åˆ›å»ºèµ„æºç®¡ç†å¯¹è±¡"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#åˆ›å»ºèµ„æºç®¡ç†å¯¹è±¡"}},[t._v("#")]),t._v(" åˆ›å»ºèµ„æºç®¡ç†å¯¹è±¡")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æŠ“å–ç½‘ç»œèµ„æºåˆ°ç©ºé—´")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" qiniu "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'qiniu'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç”¨æˆ·å¯†åŒ™")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("ACCESS_KEY")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'4RjWhCFFyxHHPXYBn8u0oGkJWtVGLaJWQxzDQpEd'")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("SECRET_KEY")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'qEQXMw3iUIYT0xxuLZWsVGMdA5Tvt5rC7HnFasR9'")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å®šä¹‰é‰´æƒå¯¹è±¡")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" mac "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("qiniu"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("auth"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("digest"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Mac")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("ACCESS_KEY")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("SECRET_KEY")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å®šä¹‰é…ç½®å¯¹è±¡")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" config "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("qiniu"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("conf"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Config")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// é…ç½®å‚¨å­˜åŒºåŸŸä¸ºz0(åä¸œ)")]),t._v("\nconfig"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("zone "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" qiniu"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("zone"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Zone_z0"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åˆ›å»ºèµ„æºç®¡ç†å¯¹è±¡ï¼Œè¯¥åŠŸèƒ½æ¨¡å—å¯ä»¥è¿›è¡Œç®¡ç†èµ„æºçš„å¤§éƒ¨åˆ†æ“ä½œ")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" bucketManager "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("qiniu"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("rs"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("BucketManager")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("mac"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" config"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("h3",{attrs:{id:"æŠ“å–ç½‘ç»œèµ„æºåˆ°ç©ºé—´"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#æŠ“å–ç½‘ç»œèµ„æºåˆ°ç©ºé—´"}},[t._v("#")]),t._v(" æŠ“å–ç½‘ç»œèµ„æºåˆ°ç©ºé—´")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/*  bucketManager.fetch(resUrl, bucket, key, callback(err, respBody, respInfo))\n    resUrl: ç½‘ç»œèµ„æºåœ°å€\n    bucket: å‚¨å­˜ç©ºé—´åç§°\n    key: é‡å‘½åç½‘ç»œèµ„æºåç§°\n    callback: è¯·æ±‚å›è°ƒ\n    err: é”™è¯¯ç , è¯·æ±‚æˆåŠŸæ—¶ä¸ºç©º\n        respBody: è¯·æ±‚æˆåŠŸå“åº”ä½“å¯¹è±¡,è¯¥å¯¹è±¡æœ‰ä»¥ä¸‹å±æ€§\n            key(æ–‡ä»¶åç§°), hash(æ–‡ä»¶å“ˆå¸Œå€¼), fsize(æ–‡ä»¶å¤§å°), mimeType(æ–‡ä»¶ç±»å‹)\n        respInfo: è¯·æ±‚çŠ¶æ€å¯¹è±¡, è¯¥å¯¹è±¡æœ‰ä»¥ä¸‹å±æ€§\n            statusCode: è¯·æ±‚çŠ¶æ€ç , å½“çŠ¶æ€ç ä¸º200ä»£è¡¨ä¸Šä¼ æˆåŠŸ\n*/")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" key "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'yyy.png'")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" resUrl "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'www.xxx.xxx/xxx.png'")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" bucket "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'mr-mao-images'")]),t._v("\nbucketManager"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("fetch")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("resUrl"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" bucket"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" key"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("err"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" respBody"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" respInfo")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("respInfo"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("statusCode "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("200")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("err"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ–‡ä»¶ä¸Šä¼ æˆåŠŸ")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("err"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("h2",{attrs:{id:"ä½¿ç”¨dplayeræ„å»ºh5æ’­æ”¾å™¨"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ä½¿ç”¨dplayeræ„å»ºh5æ’­æ”¾å™¨"}},[t._v("#")]),t._v(" ä½¿ç”¨DPlayeræ„å»ºH5æ’­æ”¾å™¨")]),t._v(" "),n("p",[n("a",{attrs:{href:"http://dplayer.js.org/#/zh-Hans/",target:"_blank",rel:"noopener noreferrer"}},[t._v("DPlayer"),n("OutboundLink")],1),t._v("æ˜¯ä¸€æ¬¾å¯çˆ±çš„HTML5 danmakuè§†é¢‘æ’­æ”¾å™¨ï¼Œå¯å¸®åŠ©äººä»¬è½»æ¾æ„å»ºè§†é¢‘å’Œdanmakuã€‚")]),t._v(" "),n("h3",{attrs:{id:"åŸºæœ¬ä½¿ç”¨"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#åŸºæœ¬ä½¿ç”¨"}},[t._v("#")]),t._v(" åŸºæœ¬ä½¿ç”¨")]),t._v(" "),n("h4",{attrs:{id:"htmlä¸­å®šä¹‰ç»“æ„"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#htmlä¸­å®šä¹‰ç»“æ„"}},[t._v("#")]),t._v(" htmlä¸­å®šä¹‰ç»“æ„")]),t._v(" "),n("div",{staticClass:"language-html extra-class"},[n("pre",{pre:!0,attrs:{class:"language-html"}},[n("code",[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("link")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("rel")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("stylesheet"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("href")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("DPlayer.min.css"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("dplayer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("src")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("DPlayer.min.js"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token script"}}),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),n("h4",{attrs:{id:"javascriptä¸­å®šä¹‰è¡Œä¸º"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#javascriptä¸­å®šä¹‰è¡Œä¸º"}},[t._v("#")]),t._v(" JavaScriptä¸­å®šä¹‰è¡Œä¸º")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" dp "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("DPlayer")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åˆ›å»ºå®ä¾‹")]),t._v("\n    container"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" document"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getElementById")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'dplayer'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    screenshot"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    video"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è§†é¢‘é…ç½®")]),t._v("\n        url"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'demo.mp4'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        pic"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'demo.jpg'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        thumbnails"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'thumbnails.jpg'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    danmaku"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¼¹å¹•æœåŠ¡å™¨æ¥å£")]),t._v("\n        id"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'demo'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        api"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://api.prprpr.me/dplayer/'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åˆ‡æ¢è§†é¢‘")]),t._v("\ndp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("switchVideo")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n   "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯è§†é¢‘é…ç½®")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" url"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" pic "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç¬¬äºŒä¸ªæ˜¯å¼¹å¹•apiæ¥å£")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" api"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'http://localhost:3000/'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\ndp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("play")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ’­æ”¾è§†é¢‘")]),t._v("\ndp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("pause")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æš‚åœè§†é¢‘")]),t._v("\ndp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("toggle")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åˆ‡æ¢æ’­æ”¾å’Œæš‚åœ")]),t._v("\ndp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("seek")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("time"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" number"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è·³è½¬åˆ°ç‰¹å®šæ—¶é—´")]),t._v("\ndp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("on")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("event"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" string"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("handler")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç»‘å®šè§†é¢‘å’Œæ’­æ”¾å™¨äº‹ä»¶ï¼Œè§#äº‹ä»¶ç»‘å®š")]),t._v("\ndp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("switchVideo")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("video"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" danmaku"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åˆ‡æ¢åˆ°å…¶ä»–è§†é¢‘")]),t._v("\ndp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("destroy")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// é”€æ¯æ’­æ”¾å™¨")]),t._v("\ndp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("speed")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("rate"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" number"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è®¾ç½®è§†é¢‘é€Ÿåº¦")]),t._v("\ndp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("volume")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è®¾ç½®è§†é¢‘éŸ³é‡")]),t._v("\n")])])]),n("h3",{attrs:{id:"æ„å»ºå¼¹å¹•apiæ¥å£"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#æ„å»ºå¼¹å¹•apiæ¥å£"}},[t._v("#")]),t._v(" æ„å»ºå¼¹å¹•apiæ¥å£")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" dp "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("DPlayer")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åˆ›å»ºå®ä¾‹")]),t._v("\n    container"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    video"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    danmaku"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¼¹å¹•æœåŠ¡å™¨æ¥å£é…ç½®")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¼¹å¹•æ± id")]),t._v("\n        id"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'demo'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" \n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¼¹å¹•æ¥å£")]),t._v("\n        api"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://api.prprpr.me/dplayer/'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("h4",{attrs:{id:"åŠ è½½å¼¹å¹•"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#åŠ è½½å¼¹å¹•"}},[t._v("#")]),t._v(" åŠ è½½å¼¹å¹•")]),t._v(" "),n("p",[t._v("åˆ›å»ºDPlayerï¼Œä»¥åŠåˆ‡æ¢è§†é¢‘æ—¶ï¼Œä¼šå‘é€è¯·æ±‚åŠ è½½å¯¹åº”å¼¹å¹•æ± å¼¹å¹•\n"),n("strong",[t._v("è¯·æ±‚æ ¼å¼ï¼š")]),n("code",[t._v("GET")]),t._v(" "),n("strong",[t._v("è¯·æ±‚åœ°å€ï¼š")]),n("code",[t._v("danmaku.api")]),t._v(" "),n("strong",[t._v("è¯·æ±‚æºå¸¦å‚æ•°ï¼š")]),n("code",[t._v("danmaku.id")]),t._v(" "),n("strong",[t._v("è¿”å›æ•°æ®ç»“æ„ï¼š")])]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("code"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" data"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("3.3964")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("   "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¼¹å¹•å‘é€æ—¶é—´")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¼¹å¹•çš„ç±»å‹")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("16777215")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¼¹å¹•çš„é¢œè‰²")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"DIYgod"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¼¹å¹•çš„å‘é€è€…")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"11111"')]),t._v("   "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¼¹å¹•çš„å†…å®¹")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("h4",{attrs:{id:"å‘é€å¼¹å¹•"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#å‘é€å¼¹å¹•"}},[t._v("#")]),t._v(" å‘é€å¼¹å¹•")]),t._v(" "),n("p",[t._v("åœ¨è§†é¢‘ä¸­å‘é€å¼¹å¹•æ—¶ï¼Œä¼šå‘é€è¯·æ±‚ç»™å¯¹åº”apiæ¥å£\n"),n("strong",[t._v("è¯·æ±‚æ ¼å¼ï¼š")]),n("code",[t._v("POST")]),t._v(" "),n("strong",[t._v("è¯·æ±‚åœ°å€ï¼š")]),n("code",[t._v("danmaku.api")]),t._v(" "),n("strong",[t._v("è¯·æ±‚ä½“æºå¸¦å‚æ•°ï¼š")])]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("author"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"testuser"')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¼¹å¹•å‘é€è€…")]),t._v("\ncolor"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("16777215")]),t._v("    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¼¹å¹•é¢œè‰²")]),t._v("\nid"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"demo"')]),t._v("         "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¼¹å¹•æ± ID")]),t._v("\ntext"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'123456'")]),t._v("     "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¼¹å¹•çš„å†…å®¹")]),t._v("\ntime"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("            "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¼¹å¹•çš„å‘é€æ—¶é—´")]),t._v("\ntype"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("            "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¼¹å¹•çš„ç±»å‹")]),t._v("\n")])])]),n("p",[t._v("éœ€è¦å“åº”çš„å†…å®¹ï¼š")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("code"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" data"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("h2",{attrs:{id:"å…¶ä»–åº“"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#å…¶ä»–åº“"}},[t._v("#")]),t._v(" å…¶ä»–åº“")]),t._v(" "),n("h3",{attrs:{id:"ç”Ÿæˆå”¯ä¸€keyå€¼"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ç”Ÿæˆå”¯ä¸€keyå€¼"}},[t._v("#")]),t._v(" ç”Ÿæˆå”¯ä¸€keyå€¼")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¼•å…¥ç”Ÿæˆå”¯ä¸€keyå€¼åº“")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" nanoid "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'nanoid'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("nanoid")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç”Ÿæˆé»˜è®¤é•¿åº¦keyå€¼")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("nanoid")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç”ŸæˆæŒ‡å®šé•¿åº¦keyå€¼")]),t._v("\n")])])])])}),[],!1,null,null,null);s.default=e.exports}}]);