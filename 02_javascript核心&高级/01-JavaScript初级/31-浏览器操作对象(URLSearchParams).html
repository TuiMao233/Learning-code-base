<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <title></title>
</head>

<script>

  // 方法一：传入字符串
  var params = new URLSearchParams('?foo=1&bar=2');
  // 等同于
  var params = new URLSearchParams(document.location.search);

  // 方法二：传入数组
  var params = new URLSearchParams([['foo', 1], ['bar', 2]]);
  // 方法三：传入对象
  var params = new URLSearchParams({ 'foo': 1, 'bar': 2 });

  // URLSearchParams会对查询字符串自动编码。
  var params = new URLSearchParams({ 'foo': '你好' });
  params.toString() // "foo=%E4%BD%A0%E5%A5%BD"


  // 需要字符串的场合，会自动调用toString方法。
  var params = new URLSearchParams({ version: 2.0 });
  window.location.href = location.pathname + '?' + params;


  // append()方法用来追加一个查询参数。它接受两个参数，第一个为键名，第二个为键值，没有返回值。
  var params = new URLSearchParams({ 'foo': 1, 'bar': 2 });
  params.append('baz', 3);
  params.toString() // "foo=1&bar=2&baz=3"

  // delete()方法用来删除指定的查询参数。它接受键名作为参数。
  var params = new URLSearchParams({ 'foo': 1, 'bar': 2 });
  params.delete('bar');
  params.toString() // "foo=1"

  // has()方法返回一个布尔值，表示查询字符串是否包含指定的键名。
  var params = new URLSearchParams({ 'foo': 1, 'bar': 2 });
  params.has('bar') // true
  params.has('baz') // false

  // set()方法用来设置查询字符串的键值。
  // 它接受两个参数，第一个是键名，第二个是键值。如果是已经存在的键，键值会被改写，否则会被追加。
  var params = new URLSearchParams('?foo=1');
  params.set('foo', 2);
  params.toString() // "foo=2"
  params.set('bar', 3);
  params.toString() // "foo=2&bar=3"

  // get()方法用来读取查询字符串里面的指定键。它接受键名作为参数。
  var params = new URLSearchParams('?foo=1');
  params.get('foo') // "1"
  params.get('bar') // null

  // getAll()方法返回一个数组，成员是指定键的所有键值。它接受键名作为参数。
  var params = new URLSearchParams('?foo=1&foo=2');
  params.getAll('foo') // ["1", "2"]

  // sort()方法对查询字符串里面的键进行排序，规则是按照 Unicode 码点从小到大排列。
  var params = new URLSearchParams('c=4&a=2&b=3&a=1');
  params.sort();
  params.toString() // "a=2&a=1&b=3&c=4"

  // URLSearchParams.keys()，URLSearchParams.values()，URLSearchParams.entries()
</script>

<body>
</body>

</html>