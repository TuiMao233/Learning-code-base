<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style type="text/css">
			* {
				margin: 0;
				padding: 0;
			}

			html,
			body {
				height: 100%;
				overflow: hidden;
			}

			#test {
				position: absolute;
				left: 0;
				top: 0;
				width: 150px;
				height: 150px;
				background: pink;
			}
		</style>
	</head>
	<body>
		<div id="test"></div>
	</body>
	<script src="js/drag.js" type="text/javascript" charset="utf-8"></script>
	<script type="text/javascript">
		window.onload = function() {
			// 定义拖拽规则(down,move,up)
			// 函数ev是包装好的对象, ev是鼠标的x与y轴距离视口位置
			// 函数体this指向dragEl
			// 函数体mousedown不可以为空,其余两个可以为空或则null,false 为空代表不执行
		var drag = InitDrag({
			mousedown: function(ev) { // 鼠标按下规则
				// 按下时元素内偏移量
				this.offsetX = this.offsetLeft - ev.x
				this.offsetY = this.offsetTop - ev.y
			},
			mousemove: function(ev) { // 鼠标移动规则
				this.style.left = ev.x + this.offsetX + "px"
				this.style.top = ev.y + this.offsetY + "px"
			},
			mouseup: function(ev) { // 鼠标松开规则
			}
		})
		var div = document.querySelector('div')
		drag.ev(div)
		}
	</script>
</html>
